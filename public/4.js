(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{334:function(e,t,n){"use strict";n.r(t);var o,a=n(5),s={name:"loader",props:["show","infinite"]},i=(n(361),n(1)),r=Object(i.a)(s,(function(){var e=this.$createElement,t=this._self._c||e;return t("transition",{attrs:{name:"fade-spinner",appear:""}},[this.show?t("div",{class:{"container-center":!this.infinite,"container-top":this.infinite}},[t("div",{attrs:{id:"circle"}})]):this._e()])}),[],!1,null,"2a4fcb4c",null).exports,c={name:"svg-icon",props:["name","path","param"],computed:{svgId:function(){var e=this.param?"-"+this.param:"";return"chat-icon-".concat(this.name).concat(e)}},data:function(){return{svgItem:[{name:"search",path:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"},{name:"add",path:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"},{name:"toggle",path:"M10,1.445c-4.726,0-8.555,3.829-8.555,8.555c0,4.725,3.829,8.555,8.555,8.555c4.725,0,8.555-3.83,8.555-8.555C18.555,5.274,14.725,1.445,10,1.445 M10,17.654c-4.221,0-7.654-3.434-7.654-7.654c0-4.221,3.433-7.654,7.654-7.654c4.222,0,7.654,3.433,7.654,7.654C17.654,14.221,14.222,17.654,10,17.654 M14.39,10c0,0.248-0.203,0.45-0.45,0.45H6.06c-0.248,0-0.45-0.203-0.45-0.45s0.203-0.45,0.45-0.45h7.879C14.187,9.55,14.39,9.752,14.39,10 M14.39,12.702c0,0.247-0.203,0.449-0.45,0.449H6.06c-0.248,0-0.45-0.202-0.45-0.449c0-0.248,0.203-0.451,0.45-0.451h7.879C14.187,12.251,14.39,12.454,14.39,12.702 M14.39,7.298c0,0.248-0.203,0.45-0.45,0.45H6.06c-0.248,0-0.45-0.203-0.45-0.45s0.203-0.45,0.45-0.45h7.879C14.187,6.848,14.39,7.051,14.39,7.298"},{name:"menu",path:"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z"},{name:"close",path:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"},{name:"file",path:"M14,17H7V15H14M17,13H7V11H17M17,9H7V7H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z"},{name:"paperclip",path:"M16.5,6V17.5A4,4 0 0,1 12.5,21.5A4,4 0 0,1 8.5,17.5V5A2.5,2.5 0 0,1 11,2.5A2.5,2.5 0 0,1 13.5,5V15.5A1,1 0 0,1 12.5,16.5A1,1 0 0,1 11.5,15.5V6H10V15.5A2.5,2.5 0 0,0 12.5,18A2.5,2.5 0 0,0 15,15.5V5A4,4 0 0,0 11,1A4,4 0 0,0 7,5V17.5A5.5,5.5 0 0,0 12.5,23A5.5,5.5 0 0,0 18,17.5V6H16.5Z"},{name:"close-outline",path:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"},{name:"send",path:"M2,21L23,12L2,3V10L17,12L2,14V21Z"},{name:"emoji",path:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"},{name:"document",path:"M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z"},{name:"pencil",path:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"},{name:"checkmark",path:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"},{name:"eye",path:"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"},{name:"dropdown",path:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"},{name:"deleted",path:"M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12C4,13.85 4.63,15.55 5.68,16.91L16.91,5.68C15.55,4.63 13.85,4 12,4M12,20A8,8 0 0,0 20,12C20,10.15 19.37,8.45 18.32,7.09L7.09,18.32C8.45,19.37 10.15,20 12,20Z"},{name:"options",path:"M17.498,11.697c-0.453-0.453-0.704-1.055-0.704-1.697c0-0.642,0.251-1.244,0.704-1.697c0.069-0.071,0.15-0.141,0.257-0.22c0.127-0.097,0.181-0.262,0.137-0.417c-0.164-0.558-0.388-1.093-0.662-1.597c-0.075-0.141-0.231-0.22-0.391-0.199c-0.13,0.02-0.238,0.027-0.336,0.027c-1.325,0-2.401-1.076-2.401-2.4c0-0.099,0.008-0.207,0.027-0.336c0.021-0.158-0.059-0.316-0.199-0.391c-0.503-0.274-1.039-0.498-1.597-0.662c-0.154-0.044-0.32,0.01-0.416,0.137c-0.079,0.106-0.148,0.188-0.22,0.257C11.244,2.956,10.643,3.207,10,3.207c-0.642,0-1.244-0.25-1.697-0.704c-0.071-0.069-0.141-0.15-0.22-0.257C7.987,2.119,7.821,2.065,7.667,2.109C7.109,2.275,6.571,2.497,6.07,2.771C5.929,2.846,5.85,3.004,5.871,3.162c0.02,0.129,0.027,0.237,0.027,0.336c0,1.325-1.076,2.4-2.401,2.4c-0.098,0-0.206-0.007-0.335-0.027C3.001,5.851,2.845,5.929,2.77,6.07C2.496,6.572,2.274,7.109,2.108,7.667c-0.044,0.154,0.01,0.32,0.137,0.417c0.106,0.079,0.187,0.148,0.256,0.22c0.938,0.936,0.938,2.458,0,3.394c-0.069,0.072-0.15,0.141-0.256,0.221c-0.127,0.096-0.181,0.262-0.137,0.416c0.166,0.557,0.388,1.096,0.662,1.596c0.075,0.143,0.231,0.221,0.392,0.199c0.129-0.02,0.237-0.027,0.335-0.027c1.325,0,2.401,1.076,2.401,2.402c0,0.098-0.007,0.205-0.027,0.334C5.85,16.996,5.929,17.154,6.07,17.23c0.501,0.273,1.04,0.496,1.597,0.66c0.154,0.047,0.32-0.008,0.417-0.137c0.079-0.105,0.148-0.186,0.22-0.256c0.454-0.453,1.055-0.703,1.697-0.703c0.643,0,1.244,0.25,1.697,0.703c0.071,0.07,0.141,0.15,0.22,0.256c0.073,0.098,0.188,0.152,0.307,0.152c0.036,0,0.073-0.004,0.109-0.016c0.558-0.164,1.096-0.387,1.597-0.66c0.141-0.076,0.22-0.234,0.199-0.393c-0.02-0.129-0.027-0.236-0.027-0.334c0-1.326,1.076-2.402,2.401-2.402c0.098,0,0.206,0.008,0.336,0.027c0.159,0.021,0.315-0.057,0.391-0.199c0.274-0.5,0.496-1.039,0.662-1.596c0.044-0.154-0.01-0.32-0.137-0.416C17.648,11.838,17.567,11.77,17.498,11.697 M16.671,13.334c-0.059-0.002-0.114-0.002-0.168-0.002c-1.749,0-3.173,1.422-3.173,3.172c0,0.053,0.002,0.109,0.004,0.166c-0.312,0.158-0.64,0.295-0.976,0.406c-0.039-0.045-0.077-0.086-0.115-0.123c-0.601-0.6-1.396-0.93-2.243-0.93s-1.643,0.33-2.243,0.93c-0.039,0.037-0.077,0.078-0.116,0.123c-0.336-0.111-0.664-0.248-0.976-0.406c0.002-0.057,0.004-0.113,0.004-0.166c0-1.75-1.423-3.172-3.172-3.172c-0.054,0-0.11,0-0.168,0.002c-0.158-0.312-0.293-0.639-0.405-0.975c0.044-0.039,0.085-0.078,0.124-0.115c1.236-1.236,1.236-3.25,0-4.486C3.009,7.719,2.969,7.68,2.924,7.642c0.112-0.336,0.247-0.664,0.405-0.976C3.387,6.668,3.443,6.67,3.497,6.67c1.75,0,3.172-1.423,3.172-3.172c0-0.054-0.002-0.11-0.004-0.168c0.312-0.158,0.64-0.293,0.976-0.405C7.68,2.969,7.719,3.01,7.757,3.048c0.6,0.6,1.396,0.93,2.243,0.93s1.643-0.33,2.243-0.93c0.038-0.039,0.076-0.079,0.115-0.123c0.336,0.112,0.663,0.247,0.976,0.405c-0.002,0.058-0.004,0.114-0.004,0.168c0,1.749,1.424,3.172,3.173,3.172c0.054,0,0.109-0.002,0.168-0.004c0.158,0.312,0.293,0.64,0.405,0.976c-0.045,0.038-0.086,0.077-0.124,0.116c-0.6,0.6-0.93,1.396-0.93,2.242c0,0.847,0.33,1.645,0.93,2.244c0.038,0.037,0.079,0.076,0.124,0.115C16.964,12.695,16.829,13.021,16.671,13.334 M10,5.417c-2.528,0-4.584,2.056-4.584,4.583c0,2.529,2.056,4.584,4.584,4.584s4.584-2.055,4.584-4.584C14.584,7.472,12.528,5.417,10,5.417 M10,13.812c-2.102,0-3.812-1.709-3.812-3.812c0-2.102,1.71-3.812,3.812-3.812c2.102,0,3.812,1.71,3.812,3.812C13.812,12.104,12.102,13.812,10,13.812"}]}}},l=(n(363),Object(i.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"}},[n("path",{attrs:{id:e.svgId,d:e.svgItem.find((function(t){return t.name===e.name})).path}})])}),[],!1,null,null,null).exports);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=n(330),p=function(e,t){var n=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=[];return t.forEach((function(t){"string"==typeof t.value?(t.types=t.types.concat(n),o.push(t)):t.forEach((function(t){"string"==typeof t.value?(t.types=t.types.concat(n),o.push(t)):o.push(e(t.value,t.types))}))})),o}(function(e){var t=[];return e.forEach((function(e){"string"==typeof e?t.push({types:[],value:e}):u[e.start]&&t.push(function e(t){var n=[];return t.content.forEach((function(o){"string"==typeof o?n.push({types:[t.type],value:o}):o.content.forEach((function(a){"string"==typeof a?n.push({types:[o.type].concat([t.type]),value:a}):n.push({types:[a.type].concat([o.type]).concat([t.type]),value:e(a)})}))})),n}(e))})),t}(function e(t){var n=[],o=-1,a=null;if(Object.keys(u).forEach((function(e){var n=t.indexOf(e);n>=0&&(o<0||n<o)&&(o=n,a=e)})),a){var s=t.substr(0,o),i=a,r=t.substr(o+i.length),c=r.match(new RegExp("^("+(u[i].allowed_chars||".")+"*"+(u[i].end?"?":"")+")"+(u[i].end?"("+u[i].end+")":""),"m"));if(c){s&&n.push(s);var l={start:i,content:e(c[1]),end:c[2],type:u[i].type};n.push(l),r=r.substr(c[0].length)}else s+=i,n.push(s);return n=n.concat(e(r))}return t?[t]:[]}(e))),o=[].concat.apply([],n);return function(e){for(var t=0;t<e.length;t)if(e[t-1]){var n=-1!==e[t].types.indexOf("inline-code")&&-1!==e[t-1].types.indexOf("inline-code"),o=-1!==e[t].types.indexOf("multiline-code")&&-1!==e[t-1].types.indexOf("multiline-code");n||o?function(){var n=e[t].value;e[t].types.forEach((function(e){var t=g[e]||"";n=t+n+t})),e[t-1].value=e[t-1].value+n,e.splice(t,1)}():t++}else t++}(o),t&&function(e){var t=[];e.forEach((function(e){var n=m.find(e.value);if(n.length){var o=e.value.replace(n[0].value,"");t.push({types:e.types,value:o}),e.types=["url"].concat(e.types),e.href=n[0].href,e.value=n[0].value}t.push(e)}))}(o),o},g={bold:"*",italic:"_",strike:"~",underline:"Â°"},u=(d(o={},g.bold,{end:"\\"+[g.bold],allowed_chars:".",type:"bold"}),d(o,g.italic,{end:[g.italic],allowed_chars:".",type:"italic"}),d(o,g.strike,{end:[g.strike],allowed_chars:".",type:"strike"}),d(o,g.underline,{end:[g.underline],allowed_chars:".",type:"underline"}),d(o,"```",{end:"```",allowed_chars:"(.|\n)",type:"multiline-code"}),d(o,"`",{end:"`",allowed_chars:".",type:"inline-code"}),o);var h={name:"format-message",components:{SvgIcon:l},props:{content:{type:[String,Number],required:!0},deleted:{type:Boolean,default:!1},formatLinks:{type:Boolean,default:!0},singleLine:{type:Boolean,default:!1},textFormatting:{type:Boolean,required:!0}},computed:{linkifiedMessage:function(){return p(this.content,this.formatLinks)}},methods:{checkType:function(e,t){return-1!==e.types.indexOf(t)}}},f=(n(365),Object(i.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"text-ellipsis":e.singleLine}},[e.textFormatting?n("div",[e._l(e.linkifiedMessage,(function(t,o){return[n(e.checkType(t,"url")?"a":"span",{key:o,tag:"component",class:{"text-ellipsis":e.singleLine,"text-deleted":e.deleted,"text-bold":e.checkType(t,"bold"),"text-italic":e.checkType(t,"italic"),"text-strike":e.checkType(t,"strike"),"text-underline":e.checkType(t,"underline"),"text-inline-code":!e.singleLine&&e.checkType(t,"inline-code"),"text-multiline-code":!e.singleLine&&e.checkType(t,"multiline-code")},attrs:{href:t.href,target:"_blank"}},[e.deleted?n("svg-icon",{staticClass:"icon-deleted",attrs:{name:"deleted"}}):e._e(),e._v(e._s(t.value))],1)]}))],2):n("div",[e._v(e._s(e.content))])])}),[],!1,null,null,null).exports);function v(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var b={name:"rooms-list",components:{Loader:r,SvgIcon:l,FormatMessage:f},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},showRoomsList:{type:Boolean,required:!0},filterRoom:{type:Boolean,default:!0},showAddRoom:{type:Boolean,required:!0},textFormatting:{type:Boolean,required:!0},isMobile:{type:Boolean,required:!0},rooms:{type:Array,required:!0},loadingRooms:{type:Boolean,required:!0},isLastRoomList:{type:Boolean,required:!0},room:{type:Object,required:!0}},data:function(){return{filteredRooms:this.rooms||[],selectedRoomId:"",query:""}},watch:{rooms:function(e){this.filteredRooms=e},room:function(e){e&&(this.selectedRoomId=e.room_id)}},methods:{searchRoom:function(e){var t,n,o;this.query=e.target.value,this.filterRoom&&(this.filteredRooms=(t=this.rooms,n="room_name",(o=this.query)&&""!==o?t.filter((function(e){return e[n].toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").indexOf(o.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))>-1})):t)),this.$emit("searchRoom",{pattern:this.query,rooms:this.filteredRooms})},openRoom:function(e){(e.room_id!==this.room.room_id||this.isMobile)&&(this.selectedRoomId=e.room_id,this.$emit("fetchRoom",{room:e}))},addRoom:function(){this.$emit("addRoom")},userStatus:function(e){var t=this;if(e.users&&2===e.users.length){var n=e.users.find((function(e){return e.id!==t.currentUserId}));return n.status?n.status.state:void 0}},getLastMessage:function(e){var t=e.last_message.deleted?this.textMessages.MESSAGE_DELETED:e.last_message.content;if(e.users.length<=2)return t;var n=e.users.find((function(t){return t.id===e.last_message.sender_id}));return n?n.id===this.currentUserId?t:"".concat(n.username," - ").concat(t):"User - ".concat(t)},nameFromUsers:function(e){var t=this;if(e&&e.length){var n=v(e).filter((function(e){return e.id!==t.currentUserId}));return n&&n.reduce((function(e,t){return e+","+t.username}),"").substring(1)}},loadMore:function(){this.$emit("loadMore",{query:this.query})}}},x=(n(367),Object(i.a)(b,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.showRoomsList,expression:"showRoomsList"}],staticClass:"rooms-container app-border-r",class:{"rooms-container-full":e.isMobile}},[e._t("rooms-header"),e._v(" "),n("div",{staticClass:"box-search"},[n("div",{staticClass:"icon-search"},[n("svg-icon",{attrs:{name:"search"}})],1),e._v(" "),n("input",{attrs:{type:"search",placeholder:e.textMessages.SEARCH,autocomplete:"off"},on:{input:e.searchRoom}}),e._v(" "),e.showAddRoom?n("div",{staticClass:"svg-button add-icon",on:{click:e.addRoom}},[n("svg-icon",{attrs:{name:"add"}})],1):e._e()]),e._v(" "),n("loader",{attrs:{show:e.loadingRooms}}),e._v(" "),e.loadingRooms||e.rooms.length?e._e():n("div",{staticClass:"rooms-empty"},[e._v(e._s(e.textMessages.ROOMS_EMPTY))]),e._v(" "),e.loadingRooms?e._e():n("div",{staticClass:"room-list"},[e._l(e.filteredRooms,(function(t){return n("div",{key:t.room_id,staticClass:"room-item",class:{"room-selected":e.selectedRoomId===t.room_id},on:{click:function(n){return e.openRoom(t)}}},[t.avatar?n("div",{staticClass:"room-avatar",style:{"background-image":"url('"+t.avatar+"')"}}):e._e(),e._v(" "),n("div",{staticClass:"name-container text-ellipsis"},[n("div",{staticClass:"title-container"},[e.userStatus(t)?n("div",{staticClass:"state-circle",class:{"state-online":"online"===e.userStatus(t)}}):e._e(),e._v(" "),t.room_name?n("div",{staticClass:"room-name text-ellipsis",attrs:{title:t.room_name}},[e._v(e._s(t.room_name))]):n("div",{staticClass:"room-name text-ellipsis",attrs:{title:e.nameFromUsers(t.users)}},[e._v(e._s(e.nameFromUsers(t.users)))]),e._v(" "),t.last_message?n("div",{staticClass:"text-date"},[e._v(e._s(t.last_message.timestamp))]):e._e()]),e._v(" "),t.last_message?n("div",{staticClass:"text-last",class:{"message-new":t.last_message.new}},[t.last_message.seen?n("span",[n("svg-icon",{staticClass:"icon-check",attrs:{name:"checkmark"}})],1):e._e(),e._v(" "),n("format-message",{attrs:{content:e.getLastMessage(t),deleted:!!t.last_message.deleted,formatLinks:!1,textFormatting:e.textFormatting,singleLine:!0}})],1):e._e()])])})),e._v(" "),n("div",[e.isLastRoomList?e._e():n("button",{style:{width:"100%"},on:{click:e.loadMore}},[e._v(e._s(e.textMessages.LOADMORE))])])],2)],2)}),[],!1,null,"57e9a1b4",null).exports),y=n(11),_=n.n(y),w=n(331),k=n.n(w),M=n(329),R=n.n(M),j=n(332),O=n(333),C={components:{EmojiPicker:n.n(O).a,SvgIcon:l},props:["emojiOpened","emojiReaction","roomFooterRef","positionTop","positionRight"],data:function(){return{search:"",emojiPickerHeight:320,emojiPickerTop:0,emojiPickerRight:""}},methods:{append:function(e){var t=e.emoji,n=e.emojiName;this.$emit("addEmoji",{icon:t,name:n})},openEmoji:function(e){this.$emit("openEmoji",!0),this.setEmojiPickerPosition(e.clientY,e.view.innerWidth,e.view.innerHeight)},setEmojiPickerPosition:function(e,t,n){var o=this;setTimeout((function(){var a=t<500||n<700;if(o.roomFooterRef)if(a)o.emojiPickerRight=t/2-120+"px",o.emojiPickerTop=100,o.emojiPickerHeight=n-200;else{var s=o.roomFooterRef.getBoundingClientRect().top-e>o.emojiPickerHeight-50;o.emojiPickerTop=s?e+10:e-o.emojiPickerHeight-10,o.emojiPickerRight=o.positionTop?"-50px":o.positionRight?"60px":""}else a&&(o.emojiPickerRight="0px")}),0)}}},A=(n(369),Object(i.a)(C,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[n("emoji-picker",{attrs:{search:e.search},on:{emoji:e.append},scopedSlots:e._u([{key:"emoji-invoker",fn:function(t){var o=t.events.click;return n("div",{staticClass:"svg-button",class:{"button-reaction":e.emojiReaction},on:{click:[function(e){return e.stopPropagation(),o(e)},e.openEmoji]}},[n("svg-icon",{attrs:{name:"emoji",param:e.emojiReaction?"reaction":""}})],1)}},{key:"emoji-picker",fn:function(t){var o=t.emojis,a=t.insert;return e.emojiOpened?n("div",{},[n("transition",{attrs:{name:"slide-up",appear:""}},[n("div",{staticClass:"emoji-picker",class:{"picker-reaction":e.emojiReaction},style:{height:e.emojiPickerHeight+"px",top:e.positionTop?e.emojiPickerHeight:e.emojiPickerTop+"px",right:e.emojiPickerRight,display:e.emojiPickerTop||!e.emojiReaction?"initial":"none"}},[n("div",{staticClass:"emoji-picker__search"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],attrs:{type:"text"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}})]),e._v(" "),n("div",e._l(o,(function(t,o){return n("div",{key:o},["Frequently used"!==o?n("h5",[e._v(e._s(o))]):e._e(),e._v(" "),"Frequently used"!==o?n("div",{staticClass:"emojis"},e._l(t,(function(t,o){return n("span",{key:o,attrs:{title:o},on:{click:function(e){return a({emoji:t,emojiName:o})}}},[e._v("\n\t\t\t\t\t\t\t\t\t"+e._s(t)+"\n\t\t\t\t\t\t\t\t")])})),0):e._e()])})),0)])])],1):e._e()}}],null,!0)})],1)}),[],!1,null,"99ae97b8",null).exports),I={name:"message",components:{SvgIcon:l,Loader:r,EmojiPicker:A,FormatMessage:f},directives:{clickOutside:R.a.directive},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},index:{type:Number,required:!0},message:{type:Object,required:!0},messages:{type:Array,required:!0},editedMessage:{type:Object,required:!0},roomUsers:{type:Array,default:function(){return[]}},messageActions:{type:Array,required:!0},roomFooterRef:{type:HTMLDivElement},newMessages:{type:Array},showReactionEmojis:{type:Boolean,required:!0},textFormatting:{type:Boolean,required:!0},emojisList:{type:Object,required:!0},hideOptions:{type:Boolean,required:!0}},data:function(){return{hoverMessageId:null,imageLoading:!1,imageHover:!1,messageHover:!1,optionsOpened:!1,optionsClosing:!1,menuOptionsTop:0,messageReaction:"",newMessage:{},emojiOpened:!1,imageResponsive:""}},watch:{message:{immediate:!0,handler:function(){this.checkImgLoad()}},newMessages:function(e){e.length&&(this.newMessage=e.reduce((function(e,t){return t.index<e.index?t:e})))},emojiOpened:function(e){e&&(this.optionsOpened=!1)},hideOptions:function(e){e&&(this.closeEmoji(),this.closeOptions())}},mounted:function(){this.message.seen||this.message.sender_id!==this.currentUserId||this.$emit("addNewMessage",{_id:this.message.id,index:this.index}),this.imageResponsive={maxHeight:this.$refs.imageRef.clientWidth-18,loaderTop:this.$refs.imageRef.clientWidth/2}},computed:{showDate:function(){return this.message.date&&this.index>0&&this.message.date!==this.messages[this.index-1].date},messageOffset:function(){return this.index>0&&this.message.sender_id!==this.messages[this.index-1].sender_id},isImage:function(){return this.checkImageFile()},isImageReply:function(){return this.checkImageReplyFile()},isImageLoading:function(){return-1!==this.message.file.url.indexOf("blob:http")||this.imageLoading},isMessageSeen:function(){return this.message.sender_id===this.currentUserId&&this.message.seen&&!this.message.deleted&&!this.message.joind},replyUsername:function(){var e=this.message.reply_message.sender_id,t=this.roomUsers.find((function(t){return t.id===e}));return t?t.username:""},isMessageActions:function(){return this.filteredMessageActions.length&&this.messageHover&&!this.message.deleted&&!this.message.joind&&!this.message.disable_actions},isMessageReactions:function(){return this.showReactionEmojis&&this.messageHover&&!this.message.deleted&&!this.message.joind&&!this.message.disable_reactions},filteredMessageActions:function(){return this.message.sender_id===this.currentUserId?this.messageActions:this.messageActions.filter((function(e){return!e.onlyMe}))}},methods:{isMessageHover:function(){return this.editedMessage.id===this.message.id||this.hoverMessageId===this.message.id},onHoverMessage:function(){this.imageHover=!0,this.messageHover=!0,this.canEditMessage()&&(this.hoverMessageId=this.message.id)},canEditMessage:function(){return!this.message.deleted&&!this.message.joind},onLeaveMessage:function(){this.imageHover=!1,this.optionsOpened||this.emojiOpened||(this.messageHover=!1),this.hoverMessageId=null},openFile:function(){this.$emit("openFile",this.message)},messageActionHandler:function(e){var t=this;this.closeOptions(),this.messageHover=!1,this.hoverMessageId=null,setTimeout((function(){t.$emit("messageActionHandler",{action:e,message:t.message})}),300)},checkImageFile:function(){return this.checkImageType(this.message.file)},checkImageReplyFile:function(){return this.checkImageType(this.message.reply_message.file)},checkImageType:function(e){if(e){var t=e.type;return["png","jpg","jpeg","svg"].some((function(e){return t.includes(e)}))}},checkImgLoad:function(){var e=this;if(this.checkImageFile()){this.imageLoading=!0;var t=new Image;t.src=this.message.file.url,t.addEventListener("load",(function(){return e.imageLoading=!1}))}},canDropDown:function(){return this.optionsOpened&&!this.message.deleted&&!this.message.joind},openOptions:function(){var e=this;this.optionsClosing||(this.optionsOpened=!this.optionsOpened,this.optionsOpened&&(this.$emit("hideOptions",!1),setTimeout((function(){if(e.roomFooterRef&&e.$refs.menuOptions&&e.$refs.actionIcon){var t=e.$refs.menuOptions.getBoundingClientRect().height,n=e.$refs.actionIcon.getBoundingClientRect().top,o=e.roomFooterRef.getBoundingClientRect().top-n>t+50;e.menuOptionsTop=o?30:-t}}),0)))},closeOptions:function(){var e=this;this.optionsOpened=!1,this.optionsClosing=!0,setTimeout((function(){return e.optionsClosing=!1}),100),this.hoverMessageId!==this.message.id&&(this.messageHover=!1)},openEmoji:function(){this.emojiOpened=!this.emojiOpened,this.$emit("hideOptions",!1)},closeEmoji:function(){this.emojiOpened=!1,this.hoverMessageId!==this.message.id&&(this.messageHover=!1)},getEmojiByName:function(e){return this.emojisList[e]},sendMessageReaction:function(e,t){this.$emit("sendMessageReaction",{messageId:this.message.id,reaction:e,remove:t&&-1!==t.indexOf(this.currentUserId)}),this.closeEmoji(),this.messageHover=!1}}},S=(n(371),Object(i.a)(I,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showDate?n("div",{staticClass:"card-date"},[e._v(e._s(e.message.date))]):e._e(),e._v(" "),e.newMessage.id===e.message.id?n("div",{staticClass:"line-new"},[e._v(e._s(e.textMessages.NEW_MESSAGES))]):e._e(),e._v(" "),n("div",{staticClass:"message-box",class:{"offset-current":e.message.sender_id===e.currentUserId}},[n("div",{staticClass:"message-container",class:{"message-container-offset":e.messageOffset}},[n("div",{ref:"imageRef",staticClass:"message-card",class:{"message-highlight":e.isMessageHover(e.message),"message-current":e.message.sender_id===e.currentUserId,"message-deleted":e.message.deleted},on:{mouseover:function(t){return e.onHoverMessage(e.message)},mouseleave:e.onLeaveMessage}},[e.roomUsers.length>2&&e.message.sender_id!==e.currentUserId?n("div",{staticClass:"text-username",class:{"username-reply":!e.message.deleted&&!e.message.joind&&e.message.reply_message}},[e.message.joind?e._e():n("span",[e._v(e._s(e.message.username))])]):e._e(),e._v(" "),e.message.deleted||e.message.joind||!e.message.reply_message?e._e():n("div",{staticClass:"reply-message"},[n("div",{staticClass:"reply-username"},[e._v(e._s(e.replyUsername))]),e._v(" "),e.isImageReply?n("div",{staticClass:"image-reply-container"},[n("div",{staticClass:"message-image message-image-reply",style:{"background-image":"url('"+e.message.reply_message.file.url+"')"}})]):e._e(),e._v(" "),n("div",{staticClass:"reply-content"},[e._v(e._s(e.message.reply_message.content))])]),e._v(" "),e.message.deleted?n("div",[n("svg-icon",{staticClass:"icon-deleted",attrs:{name:"deleted"}}),e._v(" "),n("span",[e._v(e._s(e.textMessages.MESSAGE_DELETED))])],1):e.message.file?e.isImage?n("div",{staticClass:"image-container"},[n("loader",{style:{top:e.imageResponsive.loaderTop+"px"},attrs:{show:e.isImageLoading}}),e._v(" "),n("div",{staticClass:"message-image",class:{"image-loading":e.isImageLoading&&e.message.sender_id===e.currentUserId},style:{"background-image":"url('"+e.message.file.url+"')","max-height":e.imageResponsive.maxHeight+"px"}},[n("transition",{attrs:{name:"fade-image"}},[e.imageHover&&!e.isImageLoading?n("div",{staticClass:"image-buttons"},[n("div",{staticClass:"svg-button button-view",on:{click:function(t){return t.stopPropagation(),e.openFile(e.message.file)}}},[n("svg-icon",{attrs:{name:"eye"}})],1),e._v(" "),n("div",{staticClass:"svg-button button-download",on:{click:function(t){return t.stopPropagation(),e.openFile(e.message.file)}}},[n("svg-icon",{attrs:{name:"document"}})],1)]):e._e()])],1),e._v(" "),n("format-message",{attrs:{content:this.message.content,textFormatting:e.textFormatting}})],1):n("div",{staticClass:"file-message"},[n("div",{staticClass:"svg-button icon-file",on:{click:function(t){return t.stopPropagation(),e.openFile(e.message.file)}}},[n("svg-icon",{attrs:{name:"document"}})],1),e._v(" "),n("span",[e._v(e._s(e.message.content))])]):n("div",[n("format-message",{attrs:{content:this.message.content,textFormatting:e.textFormatting}})],1),e._v(" "),n("div",{staticClass:"text-timestamp"},[e.message.edited&&!e.message.deleted?n("div",{staticClass:"icon-edited"},[n("svg-icon",{attrs:{name:"pencil"}})],1):e._e(),e._v(" "),n("span",[e._v(e._s(e.message.timestamp))]),e._v(" "),e.isMessageSeen?n("span",[n("svg-icon",{staticClass:"icon-check",attrs:{name:"checkmark"}})],1):e._e()]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showReactionEmojis||!e.message.reply_message||e.message.reply_message&&e.message.reply_message.sender_id===e.currentUserId,expression:"showReactionEmojis||!message.reply_message||message.reply_message&&message.reply_message.sender_id=== currentUserId"}],staticClass:"options-container",class:{"options-image":e.isImage&&!e.message.reply_message},style:{width:e.filteredMessageActions.length&&e.showReactionEmojis?"70px":"45px"}},[n("transition-group",{attrs:{name:"slide-left"}},[e.isMessageActions||e.isMessageReactions?n("div",{key:"1",staticClass:"blur-container",class:{"options-me":e.message.sender_id===e.currentUserId}}):e._e(),e._v(" "),e.isMessageActions&&!e.canDropDown()?n("div",{directives:[{name:"show",rawName:"v-show",value:!e.message.reply_message||e.message.reply_message&&e.message.reply_message.sender_id===e.currentUserId,expression:"!message.reply_message||message.reply_message&&message.reply_message.sender_id=== currentUserId"}],key:"2",ref:"actionIcon",staticClass:"svg-button message-options",on:{click:e.openOptions}},[n("svg-icon",{attrs:{name:"options",param:"message"}})],1):e._e(),e._v(" "),e.isMessageReactions?n("emoji-picker",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.closeEmoji,expression:"closeEmoji"}],key:"3",staticClass:"message-reactions",style:{right:e.isMessageActions?"30px":"5px"},attrs:{emojiOpened:e.emojiOpened,emojiReaction:!0,roomFooterRef:e.roomFooterRef,positionRight:e.message.sender_id===e.currentUserId},on:{addEmoji:e.sendMessageReaction,openEmoji:e.openEmoji}}):e._e()],1)],1),e._v(" "),e.filteredMessageActions.length?n("transition",{attrs:{name:e.message.sender_id===e.currentUserId?"slide-left":"slide-right"}},[e.canDropDown()?n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.closeOptions,expression:"closeOptions"}],ref:"menuOptions",staticClass:"menu-options",class:{"menu-left":e.message.sender_id!==e.currentUserId},style:{top:e.menuOptionsTop+"px"}},[n("div",{staticClass:"menu-list"},e._l(e.filteredMessageActions,(function(t){return n("div",{key:t.name},[n("div",{staticClass:"menu-item",on:{click:function(n){return e.messageActionHandler(t)}}},[e._v(e._s(t.title))])])})),0)]):e._e()]):e._e()],1),e._v(" "),e.message.deleted||e.message.joind?e._e():n("transition-group",{attrs:{name:"slide-left"}},e._l(e.message.reactions,(function(t,o){return n("button",{directives:[{name:"show",rawName:"v-show",value:t.length,expression:"reaction.length"}],key:o+0,staticClass:"button-reaction",class:{"reaction-me":-1!==t.indexOf(e.currentUserId)},style:{float:e.message.sender_id===e.currentUserId?"right":"left"},on:{click:function(n){return e.sendMessageReaction({name:o},t)}}},[e._v("\n            "+e._s(e.getEmojiByName(o))+"\n            "),n("span",[e._v(e._s(t.length))])])})),0)],1)])])}),[],!1,null,"2ff9485b",null).exports);function E(e,t,n,o,a,s,i){try{var r=e[s](i),c=r.value}catch(e){return void n(e)}r.done?t(c):Promise.resolve(c).then(o,a)}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var P=n(358).messagesValid,F=n(373).detectMobile,T={name:"room",components:{InfiniteLoading:k.a,Loader:r,Message:S,SvgIcon:l,EmojiPicker:A},directives:{clickOutside:R.a.directive},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},singleRoom:{type:Boolean,required:!0},showRoomsList:{type:Boolean,required:!0},isMobile:{type:Boolean,required:!0},rooms:{type:Array,required:!0},room_id:{type:[String,Number],required:!0},messages:{type:Array,required:!0},messagesLoaded:{type:Boolean,required:!0},menuActions:{type:Array,required:!0},messageActions:{type:Array,required:!0},showFiles:{type:Boolean,required:!0},showEmojis:{type:Boolean,required:!0},rtl:{type:Boolean,default:!1},showReactionEmojis:{type:Boolean,required:!0},textFormatting:{type:Boolean,required:!0},loadingRooms:{type:Boolean,required:!0},roomInfo:{type:Function}},data:function(){return{message:"",editedMessage:{},messageReply:null,infiniteState:null,loadingMessages:!1,loadingMoreMessages:!1,file:null,imageFile:null,imageDimensions:null,menuOpened:!1,emojiOpened:!1,emojisList:{},hideOptions:!0,scrollIcon:!1,newMessages:[]}},mounted:function(){var e=this;this.newMessages=[],window.addEventListener("keyup",(function(t){13!==t.keyCode||t.shiftKey||(F()?(e.message=e.message+"\n",setTimeout((function(){return e.onChangeInput()}),0)):e.sendMessage())})),this.$refs.scrollContainer.addEventListener("scroll",(function(t){e.hideOptions=!0,setTimeout((function(){e.scrollIcon=t.target.scrollHeight>500&&t.target.scrollHeight-t.target.scrollTop>1e3}),200)}));var t=Object.keys(j.a).map((function(e){return j.a[e]}));this.emojisList=Object.assign.apply(Object,[{}].concat($(t)))},watch:{loadingMessages:function(e){e?this.infiniteState=null:this.focusTextarea(!0)},room:function(e,t){e.room_id&&e.room_id!==t.room_id&&(this.loadingMessages=!0,this.scrollIcon=!1,this.resetMessage(!0))},messages:function(e,t){var n=this;e.forEach((function(e){if(!P(e))throw"Messages object is not valid! Must contain id[String, Number], content[String, Number] and sender_id[String, Number]"}));var o=this.$refs.scrollContainer;if(o){var a={top:o.scrollHeight};if(t&&e&&t.length===e.length-1)return setTimeout((function(){a.behavior="smooth",o.scrollTo(a)}),50);this.infiniteState?(this.infiniteState.loaded(),setTimeout((function(){return n.loadingMoreMessages=!1}),0)):e.length&&setTimeout((function(){o.scrollTo(a),n.loadingMessages=!1}),0)}},messagesLoaded:function(e){e&&(this.loadingMessages=!1),this.infiniteState&&this.infiniteState.complete()},imageFile:function(){var e=this;setTimeout((function(){if(e.$refs.imageFile){var t=e.$refs.imageFile.height;t<30&&(t=30),e.imageDimensions={height:e.$refs.imageFile.height-10,width:e.$refs.imageFile.width+26}}else e.imageDimensions=null,setTimeout((function(){return e.resizeTextarea()}),0)}),20)}},computed:{room:function(){var e=this;return this.rooms.find((function(t){return t.room_id===e.room_id}))||{}},showNoMessages:function(){return this.room.room_id&&!this.messages.length&&!this.loadingMessages&&!this.loadingRooms},showMessagesStarted:function(){return this.messages.length&&this.messagesLoaded},inputDisabled:function(){return this.isMessageEmpty()},typingUsers:function(){var e=this;if(this.room.typingUsers){var t=this.room.users.filter((function(t){if(t.id!==e.currentUserId&&-1!==e.room.typingUsers.indexOf(t.id))return!0}));return t.map((function(e){return e.username})).join(", ")}},userStatus:function(){var e=this;if(this.room.users&&2===this.room.users.length){var t=this.room.users.find((function(t){return t.id!==e.currentUserId}));if(t.status){var n="";return"online"===t.status.state?n=this.textMessages.IS_ONLINE:t.status.last_changed&&(n=this.textMessages.LAST_SEEN+t.status.last_changed),n}}}},methods:{addNewMessage:function(e){this.newMessages.push(e)},resetMessage:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.$emit("typingMessage",null),n)return this.file=null,void(this.message="");this.resetTextareaSize(),this.message="",this.editedMessage={},this.messageReply=null,this.file=null,this.imageFile=null,this.emojiOpened=!1,setTimeout((function(){return e.focusTextarea(t)}),0)},resetImageFile:function(){this.imageFile=null,this.editedMessage.file=null,this.file=null,this.focusTextarea()},resetTextareaSize:function(){this.$refs.roomTextarea&&(this.$refs.roomTextarea.style.height="20px")},focusTextarea:function(e){F()&&e||this.$refs.roomTextarea&&this.$refs.roomTextarea.focus()},isMessageEmpty:function(){return!this.file&&!this.message.trim()},sendMessage:function(){(this.file||this.message.trim())&&(this.editedMessage.id?(this.editedMessage.content!==this.message||this.file)&&this.$emit("editMessage",{message_id:this.editedMessage.id,new_content:this.message.trim(),file:this.file,reply_message:this.messageReply}):this.$emit("sendMessage",{content:this.message.trim(),file:this.file,reply_message:this.messageReply}),this.resetMessage(!0))},loadMoreMessages:function(e){if(!this.loadingMoreMessages){if(this.messagesLoaded||!this.room.room_id)return e.complete();this.infiniteState=e,this.$emit("fetchMessages"),this.loadingMoreMessages=!0}},messageActionHandler:function(e){var t=e.action,n=e.message;switch(t.name){case"replyMessage":return this.reply_message(n);case"editMessage":return this.editMessage(n);case"deleteMessage":return this.$emit("deleteMessage",n.id);default:return this.$emit("messageActionHandler",{action:t,message:n})}},sendMessageReaction:function(e){this.$emit("sendMessageReaction",e)},reply_message:function(e){this.resetMessage(),this.messageReply=e},editMessage:function(e){var t=this;this.resetMessage(),this.editedMessage=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),this.file=e.file,this.isImageCheck(this.file)&&(this.imageFile=e.file.url),this.message=e.content,setTimeout((function(){return t.resizeTextarea()}),0)},scrollToBottom:function(){var e=this.$refs.scrollContainer;e.scrollTo({top:e.scrollHeight,behavior:"smooth"})},onChangeInput:function(){this.resizeTextarea(),this.$emit("typingMessage",this.message)},focusMessageFrom:function(){this.$emit("focusMessageFrom")},resizeTextarea:function(){var e=this.$refs.roomTextarea,t=window.getComputedStyle(e,null).getPropertyValue("padding-top").replace("px","");e.style.height=0,e.style.height=e.scrollHeight-2*t+"px"},addEmoji:function(e){this.message+=e.icon,this.focusTextarea(!0)},launchFilePicker:function(){this.$refs.file.value="",this.$refs.file.click()},onFileChange:function(e){var t,n=this;return(t=_.a.mark((function t(){var o,a,s;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.resetImageFile(),o=e[0],a=URL.createObjectURL(o),t.next=5,fetch(a).then((function(e){return e.blob()}));case 5:s=t.sent,n.file={blob:s,name:o.name.split(".")[0],size:o.size,type:o.name.split(".")[1]||o.type,localUrl:a},n.isImageCheck(n.file)?n.imageFile=a:n.message=o.name;case 8:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(o,a){var s=t.apply(e,n);function i(e){E(s,o,a,i,r,"next",e)}function r(e){E(s,o,a,i,r,"throw",e)}i(void 0)}))})()},isImageCheck:function(e){if(e){var t=e.type;return["png","jpg","jpeg","svg"].some((function(e){return t.includes(e)}))}},openFile:function(e){this.$emit("openFile",e)},menuActionHandler:function(e){this.closeMenu(),this.$emit("menuActionHandler",e)},closeMenu:function(){this.menuOpened=!1},nameFromUsers:function(e){var t=this;if(e&&e.length){var n=$(e).filter((function(e){return e.id!==t.currentUserId}));return n&&n.reduce((function(e,t){return e+","+t.username}),"").substring(1)}}}},U=(n(374),Object(i.a)(T,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.isMobile&&!e.showRoomsList||!e.isMobile,expression:"(isMobile && !showRoomsList) || !isMobile"}],staticClass:"col-messages"},[n("div",{staticClass:"room-header app-border-b"},[n("div",{staticClass:"room-wrapper"},[e.singleRoom?e._e():n("div",{staticClass:"svg-button toggle-button mx-2",class:{"rotate-icon":!e.showRoomsList&&!e.isMobile},on:{click:function(t){return e.$emit("toggleRoomsList")}}},[n("svg-icon",{attrs:{name:"toggle"}})],1),e._v(" "),n("div",{staticClass:"info-wrapper",class:{"item-clickable":e.roomInfo},on:{click:function(t){return e.$emit("roomInfo",e.room)}}},[e.room.avatar?n("div",{staticClass:"room-avatar",style:{"background-image":"url('"+e.room.avatar+"')"}}):e._e(),e._v(" "),n("div",[n("div",{staticClass:"room-name",attrs:{title:e.nameFromUsers(e.room.users)}},[e._v(e._s(e.nameFromUsers(e.room.users)))]),e._v(" "),e.typingUsers?n("div",{staticClass:"room-info"},[e._v(e._s(e.typingUsers)+" "+e._s(e.textMessages.IS_TYPING))]):n("div",{staticClass:"room-info"},[e._v(e._s(e.userStatus))])])]),e._v(" "),e.menuActions.length&&e.room.room_id?n("div",{staticClass:"svg-button room-options",on:{click:function(t){e.menuOpened=!e.menuOpened}}},[n("svg-icon",{attrs:{name:"menu"}})],1):e._e(),e._v(" "),e.menuActions.length?n("transition",{attrs:{name:"slide-left"}},[e.menuOpened?n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.closeMenu,expression:"closeMenu"}],staticClass:"menu-options",class:{"menu-options-left":e.rtl,"menu-options-right":!e.rtl,"menu-plural":!0}},[n("div",{staticClass:"menu-list"},e._l(e.menuActions,(function(t){return n("div",{key:t.name},[n("div",{staticClass:"menu-item",on:{click:function(n){return e.menuActionHandler(t)}}},[e._v(e._s(t.title))])])})),0)]):e._e()]):e._e()],1)]),e._v(" "),n("div",{ref:"scrollContainer",staticClass:"container-scroll"},[n("loader",{attrs:{show:e.loadingMessages}}),e._v(" "),n("div",{staticClass:"messages-container"},[n("div",{class:{"messages-hidden":e.loadingMessages}},[n("transition",{attrs:{name:"fade-message"}},[e.showNoMessages?n("div",{staticClass:"text-started"},[e._v(e._s(e.textMessages.MESSAGES_EMPTY))]):e._e(),e._v(" "),e.showMessagesStarted?n("div",{staticClass:"text-started"},[e._v(e._s(e.textMessages.CONVERSATION_STARTED)+" "+e._s(e.messages[0].date))]):e._e()]),e._v(" "),n("transition",{attrs:{name:"fade-message"}},[e.messages.length?n("infinite-loading",{attrs:{spinner:"spiral",direction:"top"},on:{infinite:e.loadMoreMessages}},[n("div",{attrs:{slot:"spinner"},slot:"spinner"},[n("loader",{attrs:{show:!0,infinite:!0}})],1),e._v(" "),n("div",{attrs:{slot:"no-results"},slot:"no-results"}),e._v(" "),n("div",{attrs:{slot:"no-more"},slot:"no-more"})]):e._e()],1),e._v(" "),n("transition-group",{attrs:{name:"fade-message"}},e._l(e.messages,(function(t,o){return n("div",{key:t.sender_id+"/"+o},[n("message",{attrs:{currentUserId:e.currentUserId,message:t,index:o,messages:e.messages,editedMessage:e.editedMessage,messageActions:e.messageActions,roomUsers:e.room.users,textMessages:e.textMessages,roomFooterRef:e.$refs.roomFooter,newMessages:e.newMessages,showReactionEmojis:e.showReactionEmojis,textFormatting:e.textFormatting,emojisList:e.emojisList,hideOptions:e.hideOptions},on:{messageActionHandler:e.messageActionHandler,openFile:e.openFile,addNewMessage:e.addNewMessage,sendMessageReaction:e.sendMessageReaction,hideOptions:function(t){e.hideOptions=t}}})],1)})),0)],1)])],1),e._v(" "),e.loadingMessages?e._e():n("div",[n("transition",{attrs:{name:"bounce"}},[e.scrollIcon?n("div",{staticClass:"icon-scroll",on:{click:e.scrollToBottom}},[n("svg-icon",{attrs:{name:"dropdown",param:"scroll"}})],1):e._e()])],1),e._v(" "),Object.keys(e.room).length?n("div",{ref:"roomFooter",staticClass:"room-footer"},[n("transition",{attrs:{name:"slide-up"}},[e.messageReply?n("div",{staticClass:"reply-container"},[n("div",{staticClass:"reply-box"},[e.isImageCheck(e.messageReply.file)?n("img",{staticClass:"image-reply",attrs:{src:e.messageReply.file.url}}):e._e(),e._v(" "),n("div",{staticClass:"reply-info"},[n("div",{staticClass:"reply-username"},[e._v(e._s(e.messageReply.username))]),e._v(" "),n("div",{staticClass:"reply-content"},[e._v(e._s(e.messageReply.content))])])]),e._v(" "),n("div",{staticClass:"icon-reply"},[n("div",{staticClass:"svg-button",on:{click:e.resetMessage}},[n("svg-icon",{attrs:{name:"close-outline"}})],1)])]):e._e()]),e._v(" "),n("div",{staticClass:"box-footer"},[e.imageFile?n("div",{staticClass:"image-container"},[n("div",{staticClass:"svg-button icon-image",on:{click:e.resetImageFile}},[n("svg-icon",{attrs:{name:"close",param:"image"}})],1),e._v(" "),n("div",{staticClass:"image-file"},[n("img",{ref:"imageFile",attrs:{src:e.imageFile}})])]):e.file?n("div",{staticClass:"file-container",class:{"file-container-edit":e.editedMessage.id}},[n("div",{staticClass:"icon-file"},[n("svg-icon",{attrs:{name:"file"}})],1),e._v(" "),n("div",{staticClass:"file-message"},[e._v(e._s(e.message))]),e._v(" "),n("div",{staticClass:"svg-button icon-remove",on:{click:function(t){return e.resetMessage(null,!0)}}},[n("svg-icon",{attrs:{name:"close"}})],1)]):e._e(),e._v(" "),n("textarea",{directives:[{name:"show",rawName:"v-show",value:!e.file||e.imageFile,expression:"!file || imageFile"},{name:"model",rawName:"v-model",value:e.message,expression:"message"}],ref:"roomTextarea",class:{"textarea-outline":e.editedMessage.id},style:{"min-height":(e.imageDimensions?e.imageDimensions.height:20)+"px","padding-left":(e.imageDimensions?e.imageDimensions.width-10:12)+"px"},attrs:{placeholder:e.textMessages.TYPE_MESSAGE},domProps:{value:e.message},on:{focus:e.focusMessageFrom,input:[function(t){t.target.composing||(e.message=t.target.value)},e.onChangeInput],keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.resetMessage(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:void t.preventDefault()}]}}),e._v(" "),n("div",{staticClass:"icon-textarea"},[e.editedMessage.id?n("div",{staticClass:"svg-button",on:{click:e.resetMessage}},[n("svg-icon",{attrs:{name:"close-outline"}})],1):e._e(),e._v(" "),!e.showEmojis||e.file&&!e.imageFile?e._e():n("emoji-picker",{attrs:{emojiOpened:e.emojiOpened,positionTop:!0},on:{addEmoji:e.addEmoji,openEmoji:function(t){e.emojiOpened=t}}}),e._v(" "),e.showFiles?n("div",{staticClass:"svg-button",on:{click:e.launchFilePicker}},[n("svg-icon",{attrs:{name:"paperclip"}})],1):e._e(),e._v(" "),e.showFiles?n("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:function(t){return e.onFileChange(t.target.files)}}}):e._e(),e._v(" "),n("div",{staticClass:"svg-button",class:{"send-disabled":e.inputDisabled},on:{click:e.sendMessage}},[n("svg-icon",{attrs:{name:"send",param:e.inputDisabled?"disabled":""}})],1)],1)])],1):e._e()])}),[],!1,null,"663ea9da",null).exports),D={ROOMS_EMPTY:"No rooms",NEW_MESSAGES:"New Messages",MESSAGE_DELETED:"This message was deleted",MESSAGES_EMPTY:"No messages",CONVERSATION_STARTED:"Conversation started on:",TYPE_MESSAGE:"Type message",SEARCH:"Search",IS_ONLINE:"is online",LAST_SEEN:"last seen ",IS_TYPING:"is writing..."},z={light:{general:{color:"#0a0a0a",backgroundInput:"#fff",colorPlaceholder:"#9ca6af",colorCaret:"#1976d2",colorSpinner:"#333",borderStyle:"1px solid #e1e4e8",backgroundScrollIcon:"#fff"},container:{border:"none",borderRadius:"4px",boxShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)"},header:{background:"#fff",colorRoomName:"#0a0a0a",colorRoomInfo:"#9ca6af"},footer:{background:"#f8f9fa",borderStyleInput:"1px solid #e1e4e8",borderInputSelected:"#1976d2",backgroundReply:"rgba(0, 0, 0, 0.08)"},content:{background:"#f8f9fa"},sidemenu:{background:"#fff",backgroundHover:"#f6f6f6",backgroundActive:"#e5effa",colorActive:"#1976d2",borderColorSearch:"#e1e5e8"},dropdown:{background:"#fff",backgroundHover:"#f6f6f6"},message:{background:"#fff",backgroundMe:"#ccf2cf",color:"#0a0a0a",colorStarted:"#9ca6af",backgroundDeleted:"#dadfe2",colorDeleted:"#757e85",colorUsername:"#9ca6af",colorTimestamp:"#828c94",backgroundDate:"#e5effa",colorDate:"#505a62",backgroundReply:"rgba(0, 0, 0, 0.08)",colorReplyUsername:"#0a0a0a",colorReply:"#6e6e6e",backgroundImage:"#ddd",colorNewMessages:"#1976d2",backgroundReaction:"#eee",borderStyleReaction:"1px solid #eee",backgroundReactionHover:"#fff",borderStyleReactionHover:"1px solid #ddd",colorReactionCounter:"#0a0a0a",backgroundReactionMe:"#cfecf5",borderStyleReactionMe:"1px solid #3b98b8",backgroundReactionHoverMe:"#cfecf5",borderStyleReactionHoverMe:"1px solid #3b98b8",colorReactionCounterMe:"#0b59b3"},markdown:{background:"rgba(239, 239, 239, 0.7)",border:"rgba(212, 212, 212, 0.9)",color:"#e01e5a",colorMulti:"#0a0a0a"},room:{colorUsername:"#0a0a0a",colorMessage:"#67717a",colorTimestamp:"#a2aeb8",colorStateOnline:"#4caf50",colorStateOffline:"#9ca6af"},emoji:{background:"#fff"},icons:{search:"#9ca6af",add:"#1976d2",toggle:"#0a0a0a",menu:"#0a0a0a",close:"#9ca6af",closeImage:"#fff",file:"#1976d2",paperclip:"#1976d2",closeOutline:"#000",send:"#1976d2",sendDisabled:"#9ca6af",emoji:"#1976d2",emojiReaction:"rgba(0, 0, 0, 0.3)",document:"#1976d2",pencil:"#9e9e9e",checkmark:"#0696c7",eye:"#fff",dropdownMessage:"#fff",dropdownMessageBackground:"rgba(0, 0, 0, 0.25)",dropdownScroll:"#0a0a0a"}},dark:{general:{color:"#fff",backgroundInput:"#202223",colorPlaceholder:"#596269",colorCaret:"#1976d2",colorSpinner:"#fff",borderStyle:"none",backgroundScrollIcon:"#fff"},container:{border:"none",borderRadius:"4px",boxShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)"},header:{background:"#181a1b",colorRoomName:"#fff",colorRoomInfo:"#9ca6af"},footer:{background:"#131415",borderStyleInput:"none",borderInputSelected:"#1976d2",backgroundReply:"#1b1c1c"},content:{background:"#131415"},sidemenu:{background:"#181a1b",backgroundHover:"#202224",backgroundActive:"#151617",colorActive:"#fff",borderColorSearch:"#181a1b"},dropdown:{background:"#2a2c33",backgroundHover:"#26282e"},message:{background:"#22242a",backgroundMe:"#4fb381",color:"#fff",colorStarted:"#9ca6af",backgroundDeleted:"#1b1c21",colorDeleted:"#a2a5a8",colorUsername:"#b3bac9",colorTimestamp:"#ebedf2",backgroundDate:"rgba(0, 0, 0, 0.1)",colorDate:"#9ca6af",backgroundReply:"rgba(0, 0, 0, 0.18)",colorReplyUsername:"#fff",colorReply:"#d6d6d6",backgroundImage:"#ddd",colorNewMessages:"#fff",backgroundReaction:"none",borderStyleReaction:"none",backgroundReactionHover:"#202223",borderStyleReactionHover:"none",colorReactionCounter:"#fff",backgroundReactionMe:"#4e9ad1",borderStyleReactionMe:"none",backgroundReactionHoverMe:"#4e9ad1",borderStyleReactionHoverMe:"none",colorReactionCounterMe:"#fff"},markdown:{background:"rgba(239, 239, 239, 0.7)",border:"rgba(212, 212, 212, 0.9)",color:"#e01e5a",colorMulti:"#0a0a0a"},room:{colorUsername:"#fff",colorMessage:"#6c7278",colorTimestamp:"#6c7278",colorStateOnline:"#4caf50",colorStateOffline:"#596269"},emoji:{background:"#343740"},icons:{search:"#596269",add:"#fff",toggle:"#fff",menu:"#fff",close:"#9ca6af",closeImage:"#fff",file:"#1976d2",paperclip:"#fff",closeOutline:"#fff",send:"#fff",sendDisabled:"#646a70",emoji:"#fff",emojiReaction:"#fff",document:"#1976d2",pencil:"#ebedf2",checkmark:"#f0d90a",eye:"#fff",dropdownMessage:"#fff",dropdownMessageBackground:"rgba(0, 0, 0, 0.25)",dropdownScroll:"#0a0a0a"}}};function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=n(358),Y=V.roomsValid,G=V.partcipantsValid,Z={name:"chat-container",components:{RoomsList:x,Room:U},props:{height:{type:String,default:"600px"},theme:{type:String,default:"light"},styles:{type:Object,default:function(){return{}}},responsiveBreakpoint:{type:Number,default:900},singleRoom:{type:Boolean,default:!1},filterRoom:{type:Boolean,default:!0},textMessages:{type:Object,default:null},currentUserId:{type:[String,Number],default:""},rooms:{type:Array,default:function(){return[]}},loadingRooms:{type:Boolean,default:!1},room_id:{type:[String,Number],default:null},messages:{type:Array,default:function(){return[]}},messagesLoaded:{type:Boolean,default:!1},rtl:{type:Boolean,default:!1},menuActions:{type:Array,default:function(){return[]}},messageActions:{type:Array,default:function(){return[{name:"replyMessage",title:"Reply"},{name:"editMessage",title:"Edit Message",onlyMe:!0},{name:"deleteMessage",title:"Delete Message",onlyMe:!0}]}},showAddRoom:{type:Boolean,default:!0},showFiles:{type:Boolean,default:!0},showEmojis:{type:Boolean,default:!0},showReactionEmojis:{type:Boolean,default:!0},textFormatting:{type:Boolean,default:!0},newMessage:{type:Object,default:null},isLastRoomList:{type:Boolean,required:!0}},data:function(){return{room:{},showRoomsList:!0,isMobile:!1}},watch:{rooms:function(e,t){var n=this;if(e[0]&&e.length!==t.length)if(this.room_id){var o=e.find((function(e){return e.room_id===n.room_id}));this.fetchRoom({room:o})}else this.isMobile?this.showRoomsList=!0:this.fetchRoom({room:this.orderedRooms[0]})},room_id:{immediate:!0,handler:function(e){if(e&&!this.loadingRooms&&this.rooms.length){var t=this.rooms.find((function(t){return t.room_id===e}));this.fetchRoom({room:t})}}},_room:function(e){if(e&&0!==Object.entries(e).length){if(!Y(e))throw"Rooms object is not valid! Must contain room_id[String, Number], room_name[String] and users[Array]";e.users.forEach((function(e){if(!G(e))throw"Participants object is not valid! Must contain _id[String, Number] and username[String]"}))}},newMessage:function(e){this.$set(this.messages,e.index,e.message)}},mounted:function(){var e=this;this.updateResponsive(),window.addEventListener("resize",(function(t){t.isTrusted&&e.updateResponsive()}))},computed:{t:function(){return N({},D,{},this.textMessages)},cssVars:function(){var e=this,t=z[this.theme],n={};return Object.keys(t).map((function(o){n[o]=N({},t[o],{},e.styles[o]||{})})),function(e){var t=e.general,n=e.container,o=e.header,a=e.footer,s=e.sidemenu,i=e.content,r=e.dropdown,c=e.message,l=e.markdown,d=e.room,m=e.emoji,p=e.icons;return{"--chat-color":t.color,"--chat-bg-color-input":t.backgroundInput,"--chat-color-spinner":t.colorSpinner,"--chat-color-placeholder":t.colorPlaceholder,"--chat-color-caret":t.colorCaret,"--chat-border-style":t.borderStyle,"--chat-bg-scroll-icon":t.backgroundScrollIcon,"--chat-container-border":n.border,"--chat-container-border-radius":n.borderRadius,"--chat-container-box-shadow":n.boxShadow,"--chat-header-bg-color":o.background,"--chat-header-color-name":o.colorRoomName,"--chat-header-color-info":o.colorRoomInfo,"--chat-footer-bg-color":a.background,"--chat-border-style-input":a.borderStyleInput,"--chat-border-color-input-selected":a.borderInputSelected,"--chat-footer-bg-color-reply":a.backgroundReply,"--chat-content-bg-color":i.background,"--chat-sidemenu-bg-color":s.background,"--chat-sidemenu-bg-color-hover":s.backgroundHover,"--chat-sidemenu-bg-color-active":s.backgroundActive,"--chat-sidemenu-color-active":s.colorActive,"--chat-sidemenu-border-color-search":s.borderColorSearch,"--chat-dropdown-bg-color":r.background,"--chat-dropdown-bg-color-hover":r.backgroundHover,"--chat-message-bg-color":c.background,"--chat-message-bg-color-me":c.backgroundMe,"--chat-message-color-started":c.colorStarted,"--chat-message-bg-color-deleted":c.backgroundDeleted,"--chat-message-color-deleted":c.colorDeleted,"--chat-message-color-username":c.colorUsername,"--chat-message-color-timestamp":c.colorTimestamp,"--chat-message-bg-color-date":c.backgroundDate,"--chat-message-color-date":c.colorDate,"--chat-message-color":c.color,"--chat-message-bg-color-reply":c.backgroundReply,"--chat-message-color-reply-username":c.colorReplyUsername,"--chat-message-color-reply-content":c.colorReply,"--chat-message-bg-color-image":c.backgroundImage,"--chat-message-color-new-messages":c.colorNewMessages,"--chat-message-bg-color-reaction":c.backgroundReaction,"--chat-message-border-style-reaction":c.borderStyleReaction,"--chat-message-bg-color-reaction-hover":c.backgroundReactionHover,"--chat-message-border-style-reaction-hover":c.borderStyleReactionHover,"--chat-message-color-reaction-counter":c.colorReactionCounter,"--chat-message-bg-color-reaction-me":c.backgroundReactionMe,"--chat-message-border-style-reaction-me":c.borderStyleReactionMe,"--chat-message-bg-color-reaction-hover-me":c.backgroundReactionHoverMe,"--chat-message-border-style-reaction-hover-me":c.borderStyleReactionHoverMe,"--chat-message-color-reaction-counter-me":c.colorReactionCounterMe,"--chat-markdown-bg":l.background,"--chat-markdown-border":l.border,"--chat-markdown-color":l.color,"--chat-markdown-color-multi":l.colorMulti,"--chat-room-color-username":d.colorUsername,"--chat-room-color-message":d.colorMessage,"--chat-room-color-timestamp":d.colorTimestamp,"--chat-room-color-online":d.colorStateOnline,"--chat-room-color-offline":d.colorStateOffline,"--chat-emoji-bg-color":m.background,"--chat-icon-color-search":p.search,"--chat-icon-color-add":p.add,"--chat-icon-color-toggle":p.toggle,"--chat-icon-color-menu":p.menu,"--chat-icon-color-close":p.close,"--chat-icon-color-close-image":p.closeImage,"--chat-icon-color-file":p.file,"--chat-icon-color-paperclip":p.paperclip,"--chat-icon-color-close-outline":p.closeOutline,"--chat-icon-color-send":p.send,"--chat-icon-color-send-disabled":p.sendDisabled,"--chat-icon-color-emoji":p.emoji,"--chat-icon-color-emoji-reaction":p.emojiReaction,"--chat-icon-color-document":p.document,"--chat-icon-color-pencil":p.pencil,"--chat-icon-color-checkmark":p.checkmark,"--chat-icon-color-eye":p.eye,"--chat-icon-color-dropdown-message":p.dropdownMessage,"--chat-icon-bg-dropdown-message":p.dropdownMessageBackground,"--chat-icon-color-dropdown-scroll":p.dropdownScroll}}(n)},orderedRooms:function(){return this.rooms.slice().sort((function(e,t){var n=e.last_message||{date:0},o=t.last_message||{date:0};return n.date>o.date?-1:o.date>n.date?1:0}))}},methods:{loadMore:function(e){this.$emit("loadMore",e)},searchRoom:function(e){this.$emit("searchRoom",e)},updateResponsive:function(){this.isMobile=window.innerWidth<this.responsiveBreakpoint},toggleRoomsList:function(){this.showRoomsList=!this.showRoomsList,this.isMobile&&(this.room={})},fetchRoom:function(e){var t=e.room;this.$emit("fetchRoom",{room:t}),this.room=t,this.isMobile&&(this.showRoomsList=!1)},roomInfo:function(){this.$emit("roomInfo",this.room)},addRoom:function(){this.$emit("addRoom")},fetchMessages:function(e){this.$emit("fetchMessages",{room:this.room,options:e})},sendMessage:function(e){this.$emit("sendMessage",N({},e,{room_id:this.room.room_id}))},editMessage:function(e){this.$emit("editMessage",N({},e,{room_id:this.room.room_id}))},deleteMessage:function(e){this.$emit("deleteMessage",{message_id:e,room_id:this.room.room_id})},openFile:function(e){this.$emit("openFile",e)},menuActionHandler:function(e){this.$emit("menuActionHandler",{action:e,room_id:this.room.room_id})},messageActionHandler:function(e){this.$emit("messageActionHandler",N({},e,{room_id:this.room.room_id}))},sendMessageReaction:function(e){this.$emit("sendMessageReaction",N({},e,{room_id:this.room.room_id}))},typingMessage:function(e){this.$emit("typingMessage",{message:e,room_id:this.room.room_id})},focusMessageFrom:function(){this.$emit("focusMessageFrom",{room_id:this.room.room_id})}}},W=(n(376),Object(i.a)(Z,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card-window",style:[{height:e.height},e.cssVars]},[n("div",{staticClass:"chat-container"},[e.singleRoom?e._e():n("rooms-list",{attrs:{currentUserId:e.currentUserId,rooms:e.orderedRooms,loadingRooms:e.loadingRooms,room:e.room,filterRoom:e.filterRoom,textMessages:e.t,showAddRoom:e.showAddRoom,showRoomsList:e.showRoomsList,textFormatting:e.textFormatting,isMobile:e.isMobile,isLastRoomList:e.isLastRoomList},on:{loadMore:e.loadMore,fetchRoom:e.fetchRoom,addRoom:e.addRoom,searchRoom:e.searchRoom},scopedSlots:e._u([{key:"rooms-header",fn:function(){return[e._t("rooms-header")]},proxy:!0}],null,!0)}),e._v(" "),n("room",{attrs:{currentUserId:e.currentUserId,rooms:e.rooms,room_id:e.room.room_id||"",messages:e.messages,messagesLoaded:e.messagesLoaded,menuActions:e.menuActions,messageActions:e.messageActions,showFiles:e.showFiles,showEmojis:e.showEmojis,showReactionEmojis:e.showReactionEmojis,textMessages:e.t,singleRoom:e.singleRoom,showRoomsList:e.showRoomsList,textFormatting:e.textFormatting,isMobile:e.isMobile,loadingRooms:e.loadingRooms,roomInfo:e.$listeners.roomInfo,rtl:e.rtl},on:{toggleRoomsList:e.toggleRoomsList,roomInfo:e.roomInfo,fetchMessages:e.fetchMessages,sendMessage:e.sendMessage,editMessage:e.editMessage,deleteMessage:e.deleteMessage,openFile:e.openFile,menuActionHandler:e.menuActionHandler,messageActionHandler:e.messageActionHandler,sendMessageReaction:e.sendMessageReaction,typingMessage:e.typingMessage,focusMessageFrom:e.focusMessageFrom}})],1)])}),[],!1,null,null,null).exports);Object.defineProperty(W,"install",{configurable:!1,enumerable:!1,value:function(e){e.component("chat-window",W)}});var K=W,J=n(226),X=n(230),Q=n(231),ee=n(229),te=n(13);function ne(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},s=Object.keys(e);for(o=0;o<s.length;o++)n=s[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var re={fetchRooms:function(){var e=this;this.loadingRooms=!0,this.paginate("room")||(this.loadingRooms=!1,this.vLoading(!1)),Object(te.fetchRoomsApi)(this.pagination.room.current_page).then((function(t){var n=t.data,o=t.current_page,a=t.last_page;e.rooms=e.marge([].concat(ie(n),ie(e.rooms))),e.rooms_cache=ie(e.rooms),e.pagination.room={current_page:o,last_page:a},e.pagination_cache=ae({},e.pagination.room),e.isLastRoomList=o>=a})).catch((function(e){return console.log(e)})).finally((function(){return e.loadingRooms=!1}))},loadMore:function(e){var t=e.query;if(this.pagination||this.pagination.room){var n=this.pagination.room.current_page;++n<=this.pagination.room.last_page&&(t?this.debouncedServiceSearchRoom({pattern:t},n):this.fetchRooms())}},searchRoom:function(e){var t,n,o,a=e.pattern;this.rooms=ie(this.rooms_cache),this.rooms=(t=this.rooms,n=this.nameSeries,(o=a)&&""!==o?t.filter((function(e){return n(e).toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").indexOf(o.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))>-1})):t),this.debouncedServiceSearchRoom({pattern:a})},serviceSearchRoom:function(e,t){var n=this,o=e.pattern;this.pagination.room=ae({},this.pagination_cache),!o||o.length<2||(this.loadingRooms=!0,Object(te.searchRoomsApi)({r_query:o},t).then((function(e){var t=e.rooms,o=t.data,a=ne(t,["data"]);n.rooms=n.marge([].concat(ie(o),ie(n.rooms))),n.pagination.room=Object.assign(n.pagination.room,a),n.isLastRoomList=n.pagination.room.current_page>=n.pagination.room.last_page})).catch((function(e){console.log(e)})).finally((function(){return n.loadingRooms=!1})))},fetchRoom:function(e){var t=e.room;this.room=t,this.room.typingUsers=[],this.menuActionsOption(t.owner==this.user.id),this._httpCancel&&this._httpCancel.cancel(),this.pagination.message={current_page:1,last_page:""},this.messages=[],this.fetchMessages({room:t})},channelRoomUser:function(e){var t=this,n=e.users,o=e.user_ids,a=e.room_id,s=e.is_invited,i=e.is_deleted;if(n||o||a){var r=this.rooms.findIndex((function(e){return e.room_id===parseInt(a)}));if(i){var c=this.rooms&&this.rooms[r].users;if(!c)return;var l=c.filter((function(e){return o.indexOf(e.id)>-1}));return this.rooms[r].users=c.filter((function(e){return-1!==l.findIndex((function(t){return parseInt(t.id)===parseInt(e.id)}))})),void l.forEach((function(e){t.channelChat({message:{content:t.$i18n.t("_chat.echo_leave_user",{username:e.username}),id:"_vv".concat(t.messages.length+e.id),sender_id:e.id,username:e.username,room_id:parseInt(a),joind:!0}})}))}s&&n.forEach((function(e){t.rooms[r]&&t.rooms[r].users.push(e),t.channelChat({message:{content:t.$i18n.t("_chat.echo_join_user",{username:e.username}),id:"_vv".concat(t.messages.length+e.id),sender_id:e.id,username:e.username,room_id:parseInt(a),joind:!0}})}))}},pushRoom:function(e){var t=e.room;this.indexRoom=this.rooms&&this.rooms.push(t)-1},shiftRoom:function(e){var t=e.room,n=e.room_id,o=t?t.room_id:n;this.indexRoom||(this.indexRoom=this.rooms&&this.rooms.findIndex((function(e){return e.room_id===o}))),this.rooms.length&&this.rooms&&this.rooms.splice(this.indexRoom,1),this.rooms.length||(this.messages=[])},pushRoomContent:function(e){for(var t in e)this.rooms[this.indexRoom][t]=e[t]},clearRoomIndex:function(){this.indexRoom=""},putRoomIndex:function(e){return this.indexRoom=this.rooms&&this.rooms.findIndex((function(t){return t.room_id===e}))},addRoom:function(){this.openAddRoom=!0},nameSeries:function(e){return e.users.reduce((function(e,t){return e+","+t.username}),"").substring(1)},marge:function(e){return e&&e.filter((function(t,n){return e.map((function(e){return e.room_id})).indexOf(t.room_id)===n}))}},ce=n(26),le=n(0),de=n.n(le),me=n(23),pe=n(49);function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){he(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xe=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},re,{},{fetchMessages:function(e){var t=this,n=e.room;this.paginate("message")||(this.messagesLoaded=!0);var o=Object(me.fetchMessagesApi)(this.pagination.message.current_page,n.room_id);this.messagesLoaded=!1,this._httpCancel=o._httpCancel,o.request.then((function(e){var n,o=e.data,a=e.current_page,s=e.last_page;1==a?t.messages=o&&o.reverse():(n=t.messages).unshift.apply(n,fe(o&&o.reverse())),t.pagination.message={current_page:a,last_page:s},a==s&&(t.messagesLoaded=!0)})).catch((function(e){Object(ce.isCancel)()?console.log("request cancelled"):console.log(e)}))},sendMessage:function(e){var t=this,n=e.room_id,o=e.content,a=e.reply_message,s=this.createVirtualMessage({content:o}),i=this.getIndexReplyMessageOrMessage(s,a&&a.id);Object(me.sendMessagesApi)(n,{content:o,reply_id:a&&a.id}).then((function(e){if(t.putRoomIndex(t.room.room_id)>-1){var n=ue({},t.updateReplyMessageOrMessage(e,a,i));n.timestamp=de()().format("DD/MM/YYYY HH:mm"),n.date=de()().format("YYYYMMDDHHmmss"),t.pushRoomContent({last_message:n})}})).catch((function(e){console.log(e),a&&a.id?t.messages[i]=null:t.messages.splice(i,1),"Room Not existe"===e.data||403==e.status?(t.snackbar({text:t.$i18n.t("$room.not_exist"),color:"error"}),t.messages=[],t.shiftRoom({room_id:n})):t.snackbar({text:t.$i18n.t("alert.failed"),color:"error"})}))},editMessage:function(e){var t=this,n=e.room_id,o=e.message_id,a=e.new_content,s=(e.file,e.reply_message,this.messages.findIndex((function(e){return e.id==o}))),i=this.messages[s].content;this.messages[s].content=a,this.messages[s].edited=1,Object(me.editMessagesApi)(o,{content:a}).then((function(e){})).catch((function(e){t.messages[s].content=i,t.messages[s].edited=0,t.messages.splice(first_index,0,message),"Room Not existe"===e.data||403==e.status?(t.snackbar({text:t.$i18n.t("$room.not_exist"),color:"error"}),t.messages=[],t.shiftRoom({room_id:n})):t.snackbar({text:t.$i18n.t("alert.failed"),color:"error"})}))},deleteMessage:function(e){var t=this,n=e.room_id,o=e.message_id,a=this.messages.findIndex((function(e){return e.id==o}));this.messages[a].deleted=!0,this.messages[a].seen=!0,this.room&&this.room.last_message&&this.room.last_message&&(this.room.last_message.content=this.$i18n.t("_chat.echo_messages_deleted")),Object(me.deleteMessagesApi)(o).then().catch((function(e){t.messages[a].deleted=!1,t.messages.splice(a,0,message),t.room&&t.room.last_message&&t.room.last_message&&(t.room.last_message.content=t.messages[a].content),"Room Not existe"===e.data||403==e.status?(t.snackbar({text:t.$i18n.t("$room.not_exist"),color:"error"}),t.messages=[],t.shiftRoom({room_id:n})):t.snackbar({text:t.$i18n.t("alert.failed"),color:"error"})}))},focusMessageFrom:function(e){var t=e.room_id;t&&this.messages.findIndex((function(e){return 0===e.seen}))>-1&&(this.room&&this.room.last_message&&(this.room.last_message.new=0),Object(me.viewMessagesApi)(t).catch((function(e){return console.log(e)})))},typingMessage:function(e){e.room_id,e.message},channelChat:function(e){var t=this,n=e.message,o=e.is_updated,a=e.is_deleted,s=e.is_typing,i=e.is_view;if(console.log({message:n,is_updated:o,is_deleted:a,is_typing:s,is_view:i}),s)return this.room&&(this.room.typingUsers||(this.room.typingUsers=[])),void this.room.typingUsers.push(n&&n.typing_id);if(!i&&n){o||a||pe.a.browser();var r=this.messages.findIndex((function(e){return e.id==n.id}));if(a)return this.messages[r].timestamp=this.timestamp(n&&n.updated_at),this.messages[r].deleted=!0,this.messages[r].seen=!0,void(this.room&&this.room.last_message&&this.room.last_message&&(this.room.last_message.content=this.$i18n.t("_chat.echo_messages_deleted")));if(n&&(n.new=!0,n.timestamp=this.timestamp(n&&n.updated_at)),o?(this.messages.splice(r,1),n.edited=!0,r=this.messages.push(n)-1):n.room_id===this.room.room_id&&this.getIndexReplyMessageOrMessage(n,n.reply_id),this.putRoomIndex(n.room_id)>-1){var c=ue({},n);c.timestamp=de()().format("DD/MM/YYYY HH:mm"),c.date=de()().format("YYYYMMDDHHmmss"),this.pushRoomContent({last_message:c})}else Object(te.fetchRoomApi)(n.room_id).then((function(e){t.rooms.push(e.room)})).catch((function(e){console.log(e)}))}else this.messages.forEach((function(e){return e.seen=1}))},createVirtualMessage:function(e){var t=e.content;return{id:"v"+this.messages.length,content:t,sender_id:this.user.id,username:this.user.username,timestamp:de()().format("HH:mm"),seen:0,new:1}},getIndexReplyMessageOrMessage:function(e,t){var n;if(t){n=this.messages.findIndex((function(e){return e.id==t})),this.messages[n].reply_message=e;var o=this.messages[n];this.messages.splice(n,1),n=this.messages.push(o)-1}else n=this.messages.push(e)-1;return n},updateReplyMessageOrMessage:function(e,t,n){return t&&t.id?(this.messages[n].reply_message=Object.assign(this.messages[n].reply_message,e),this.messages[n].reply_message):(this.messages[n]=Object.assign(this.messages[n],e),this.messages[n])},timestamp:function(e){return de()(e).format("HH:mm")}},{MessageEcho:function(){},paginate:function(e){if(this.pagination[e].current_page&&this.pagination[e].last_page)return this.pagination[e].current_page<this.pagination[e].last_page&&(this.pagination[e].current_page+=1,!0)},menuActionHandler:function(e){e.room_id;switch(e.action.name){case"inviteUser":this.openInviteUser=!0;break;case"removeUser":this.openRemoveUser=!0;break;case"quitRoom":this.openquitRoom=!0}},menuActionsOption:function(e){this.menuActions=e?[{name:"inviteUser",title:this.$i18n.t("$menu_chat_room.inviteUser")},{name:"removeUser",title:this.$i18n.t("$menu_chat_room.removeUser")},{name:"quitRoom",title:this.$i18n.t("$menu_chat_room.quitRoom")}]:[{name:"quitRoom",title:this.$i18n.t("$menu_chat_room.quitRoom")}]},close:function(){this.openAddRoom=!1,this.openquitRoom=!1,this.openInviteUser=!1,this.openRemoveUser=!1}}),ye=n(9);function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Me={components:{ChatWindow:K,addRoom:J.default,quitRoom:X.default,removeUser:Q.default,inviteUser:ee.default},data:function(){return{rooms:[],room:{},indexRoom:"",messages:[],loadingRooms:!1,messagesLoaded:!1,openAddRoom:!1,openquitRoom:!1,openInviteUser:!1,openRemoveUser:!1,_httpCancel:"",pagination:{room:{current_page:1,last_page:1},message:{current_page:1,last_page:1}},rooms_cache:[],pagination_cache:{current_page:1,last_page:1},menuActions:[{name:"quitRoom",title:this.$i18n.t("$menu_chat_room.quitRoom")}],messageActions:[{name:"replyMessage",title:this.$i18n.t("$menu_chat_message.replyMessage")},{name:"editMessage",title:this.$i18n.t("$menu_chat_message.editMessage"),onlyMe:!0},{name:"deleteMessage",title:this.$i18n.t("$menu_chat_message.deleteMessage"),onlyMe:!0}],textMessages:{ROOMS_EMPTY:this.$i18n.t("_chat.rooms_empty"),LOADMORE:this.$i18n.t("_chat.load_more"),NEW_MESSAGES:this.$i18n.t("_chat.new_messages"),MESSAGE_DELETED:this.$i18n.t("_chat.echo_messages_deleted"),MESSAGES_EMPTY:this.$i18n.t("_chat.messages_empty"),CONVERSATION_STARTED:this.$i18n.t("_chat.conversation_started"),TYPE_MESSAGE:this.$i18n.t("_chat.type_messages"),SEARCH:this.$i18n.t("_chat.search")}}},computed:we({},Object(a.b)(["user","channel","dark","RTL"]),{load_more:function(){if(this.pagination&&this.pagination.room)return this.pagination.room.current_page>=this.pagination.room.last_page}}),created:function(){this.MessageEcho(),this.fetchRooms(),this.debouncedServiceSearchRoom=Object(ye.debounce)(this.serviceSearchRoom,500)},destroyed:function(){localStorage.removeItem("rooms")},methods:we({},xe)},Re=Object(i.a)(Me,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.openAddRoom?n("add-room",{attrs:{open:e.openAddRoom,roomsLength:e.rooms.length,user:e.user,dark:e.dark},on:{putRoomIndex:e.putRoomIndex,pushRoomContent:e.pushRoomContent,clearRoomIndex:e.clearRoomIndex,shiftRoom:e.shiftRoom,pushRoom:e.pushRoom,close:function(t){return e.close()}}}):e._e(),e._v(" "),e.openquitRoom?n("quit-room",{attrs:{open:e.openquitRoom,room:e.room,dark:e.dark,user:e.user},on:{shiftRoom:e.shiftRoom,pushRoom:e.pushRoom,clearRoomIndex:e.clearRoomIndex,close:function(t){return e.close()}}}):e._e(),e._v(" "),e.openInviteUser?n("invite-user",{attrs:{open:e.openInviteUser,room:e.room,user:e.user,dark:e.dark},on:{clearRoomIndex:e.clearRoomIndex,putRoomIndex:e.putRoomIndex,pushRoomContent:e.pushRoomContent,close:function(t){return e.close()}}}):e._e(),e._v(" "),e.openRemoveUser?n("remove-user",{attrs:{open:e.openRemoveUser,room:e.room,user:e.user,dark:e.dark},on:{putRoomIndex:e.putRoomIndex,pushRoomContent:e.pushRoomContent,clearRoomIndex:e.clearRoomIndex,shiftRoom:e.shiftRoom,pushRoom:e.pushRoom,close:function(t){return e.close()}}}):e._e(),e._v(" "),n("chat-window",{attrs:{theme:e.dark?"dark":"light",rtl:e.RTL,showFiles:!1,showEmojis:!1,showReactionEmojis:!1,filterRoom:!1,cachRooms:"",currentUserId:e.user.id,rooms:e.rooms,messages:e.messages,menuActions:e.menuActions,messageActions:e.messageActions,textMessages:e.textMessages,loadingRooms:e.loadingRooms,messagesLoaded:e.messagesLoaded,isLastRoomList:e.load_more},on:{fetchMessages:e.fetchMessages,fetchRoom:e.fetchRoom,sendMessage:e.sendMessage,editMessage:e.editMessage,deleteMessage:e.deleteMessage,addRoom:e.addRoom,searchRoom:e.searchRoom,focusMessageFrom:e.focusMessageFrom,loadMore:e.loadMore,menuActionHandler:e.menuActionHandler}})],1)}),[],!1,null,null,null);t.default=Re.exports},349:function(e,t,n){var o=n(362);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(7)(o,a);o.locals&&(e.exports=o.locals)},350:function(e,t,n){var o=n(364);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(7)(o,a);o.locals&&(e.exports=o.locals)},351:function(e,t,n){var o=n(366);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(7)(o,a);o.locals&&(e.exports=o.locals)},352:function(e,t,n){var o=n(368);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(7)(o,a);o.locals&&(e.exports=o.locals)},353:function(e,t,n){var o=n(370);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(7)(o,a);o.locals&&(e.exports=o.locals)},354:function(e,t,n){var o=n(372);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(7)(o,a);o.locals&&(e.exports=o.locals)},355:function(e,t,n){var o=n(375);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(7)(o,a);o.locals&&(e.exports=o.locals)},356:function(e,t,n){var o=n(377);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(7)(o,a);o.locals&&(e.exports=o.locals)},358:function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return function(e,t){return t.every((function(t){var n=!1;return("array"===t.type[0]&&Array.isArray(e[t.key])||t.type.find((function(n){return n===o(e[t.key])})))&&(n=!0),n&&r(e,t.key)}))}(e,[{key:"room_id",type:["string","number"]},{key:"room_name",type:["string"]},{key:"users",type:["array"]}])}function s(e){return function(e,t){return t.every((function(t){return t.type.find((function(n){return n===o(e[t.key])}))&&r(e,t.key)}))}(e,[{key:"id",type:["string","number"]},{key:"username",type:["string"]}])}function i(e){return function(e,t){return t.every((function(t){return t.type.find((function(n){return n===o(e[t.key])}))&&r(e,t.key)}))}(e,[{key:"id",type:["string","number"]},{key:"content",type:["string","number"]},{key:"sender_id",type:["string","number"]}])}function r(e,t){return e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]}n.r(t),n.d(t,"roomsValid",(function(){return a})),n.d(t,"partcipantsValid",(function(){return s})),n.d(t,"messagesValid",(function(){return i}))},361:function(e,t,n){"use strict";var o=n(349);n.n(o).a},362:function(e,t,n){(e.exports=n(6)(!1)).push([e.i,".container-center[data-v-2a4fcb4c] {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n}\n.container-top[data-v-2a4fcb4c] {\n  padding: 21px;\n}\n.container-top #circle[data-v-2a4fcb4c] {\n  height: 20px;\n  width: 20px;\n}\n#circle[data-v-2a4fcb4c] {\n  margin: auto;\n  height: 28px;\n  width: 28px;\n  border: 3px rgba(0, 0, 0, 0.25) solid;\n  border-top: 3px var(--chat-color-spinner) solid;\n  border-right: 3px var(--chat-color-spinner) solid;\n  border-bottom: 3px var(--chat-color-spinner) solid;\n  border-radius: 50%;\n  -webkit-animation: spin-data-v-2a4fcb4c 1s infinite linear;\n  animation: spin-data-v-2a4fcb4c 1s infinite linear;\n}\n@media only screen and (max-width: 768px) {\n#circle[data-v-2a4fcb4c] {\n    height: 24px;\n    width: 24px;\n}\n.container-top[data-v-2a4fcb4c] {\n    padding: 18px;\n}\n.container-top #circle[data-v-2a4fcb4c] {\n    height: 16px;\n    width: 16px;\n}\n}\n@-webkit-keyframes spin-data-v-2a4fcb4c {\nfrom {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n}\nto {\n    -webkit-transform: rotate(359deg);\n    transform: rotate(359deg);\n}\n}\n@keyframes spin-data-v-2a4fcb4c {\nfrom {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n}\nto {\n    -webkit-transform: rotate(359deg);\n    transform: rotate(359deg);\n    -webkit-transform: rotate(359deg);\n    transform: rotate(359deg);\n}\n}",""])},363:function(e,t,n){"use strict";var o=n(350);n.n(o).a},364:function(e,t,n){(e.exports=n(6)(!1)).push([e.i,"#chat-icon-search {\n  fill: var(--chat-icon-color-search);\n}\n#chat-icon-add {\n  fill: var(--chat-icon-color-add);\n}\n#chat-icon-toggle {\n  fill: var(--chat-icon-color-toggle);\n}\n#chat-icon-menu {\n  fill: var(--chat-icon-color-menu);\n}\n#chat-icon-close {\n  fill: var(--chat-icon-color-close);\n}\n#chat-icon-close-image {\n  fill: var(--chat-icon-color-close-image);\n}\n#chat-icon-file {\n  fill: var(--chat-icon-color-file);\n}\n#chat-icon-paperclip {\n  fill: var(--chat-icon-color-paperclip);\n}\n#chat-icon-close-outline {\n  fill: var(--chat-icon-color-close-outline);\n}\n#chat-icon-send {\n  fill: var(--chat-icon-color-send);\n}\n#chat-icon-send-disabled {\n  fill: var(--chat-icon-color-send-disabled);\n}\n#chat-icon-emoji {\n  fill: var(--chat-icon-color-emoji);\n}\n#chat-icon-emoji-reaction {\n  fill: var(--chat-icon-color-emoji-reaction);\n}\n#chat-icon-document {\n  fill: var(--chat-icon-color-document);\n}\n#chat-icon-pencil {\n  fill: var(--chat-icon-color-pencil);\n}\n#chat-icon-checkmark {\n  fill: var(--chat-icon-color-checkmark);\n}\n#chat-icon-eye {\n  fill: var(--chat-icon-color-eye);\n}\n#chat-icon-dropdown-message {\n  fill: var(--chat-icon-color-dropdown-message);\n}\n#chat-icon-dropdown-scroll {\n  fill: var(--chat-icon-color-dropdown-scroll);\n}",""])},365:function(e,t,n){"use strict";var o=n(351);n.n(o).a},366:function(e,t,n){(e.exports=n(6)(!1)).push([e.i,"\n.text-deleted {\n\tfont-style: italic;\n}\n.icon-deleted {\n\theight: 14px;\n\twidth: 14px;\n\tvertical-align: middle;\n\tmargin: -3px 1px 0 0;\n\tfill: var(--chat-room-color-message);\n}\n.text-ellipsis {\n\twidth: 100%;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n",""])},367:function(e,t,n){"use strict";var o=n(352);n.n(o).a},368:function(e,t,n){(e.exports=n(6)(!1)).push([e.i,".rooms-container[data-v-57e9a1b4] {\n  display: flex;\n  flex-flow: column;\n  flex: 0 0 25%;\n  min-width: 260px;\n  max-width: 500px;\n  position: relative;\n  background: var(--chat-sidemenu-bg-color);\n  height: 100%;\n  border-top-left-radius: var(--chat-container-border-radius);\n  border-bottom-left-radius: var(--chat-container-border-radius);\n}\n.rooms-container-full[data-v-57e9a1b4] {\n  flex: 0 0 100%;\n  max-width: 100%;\n}\n.box-search[data-v-57e9a1b4] {\n  position: sticky;\n  display: flex;\n  align-items: center;\n  height: 64px;\n  padding: 0 15px;\n}\n.icon-search[data-v-57e9a1b4] {\n  display: flex;\n  position: inherit;\n  left: 30px;\n}\n.icon-search svg[data-v-57e9a1b4] {\n  width: 18px;\n  height: 18px;\n}\n.add-icon[data-v-57e9a1b4] {\n  margin-left: auto;\n  padding-left: 10px;\n}\ninput[data-v-57e9a1b4] {\n  height: 38px;\n  width: 100%;\n  background: var(--chat-bg-color-input);\n  color: var(--chat-color);\n  border-radius: 4px;\n  font-size: 15px;\n  outline: 0;\n  caret-color: var(--chat-color-caret);\n  padding: 10px 10px 10px 40px;\n  border: 1px solid var(--chat-sidemenu-border-color-search);\n  border-radius: 20px;\n}\ninput[data-v-57e9a1b4]::placeholder {\n  color: var(--chat-color-placeholder);\n}\n.rooms-empty[data-v-57e9a1b4] {\n  font-size: 14px;\n  color: #9ca6af;\n  font-style: italic;\n  text-align: center;\n  margin: 40px 0;\n  line-height: 20px;\n  white-space: pre-line;\n}\n.room-list[data-v-57e9a1b4] {\n  flex: 1;\n  position: relative;\n  max-width: 100%;\n  cursor: pointer;\n  padding: 0 10px 5px;\n  overflow-y: auto;\n}\n.room-item[data-v-57e9a1b4] {\n  border-radius: 8px;\n  align-items: center;\n  display: flex;\n  flex: 1 1 100%;\n  margin-bottom: 5px;\n  padding: 0 16px;\n  position: relative;\n  min-height: 71px;\n}\n.room-item[data-v-57e9a1b4]:hover {\n  background: var(--chat-sidemenu-bg-color-hover);\n  transition: background-color 0.3s cubic-bezier(0.25, 0.8, 0.5, 1);\n}\n.room-item[data-v-57e9a1b4]:not(:hover) {\n  transition: background-color 0.3s cubic-bezier(0.25, 0.8, 0.5, 1);\n}\n.room-selected[data-v-57e9a1b4] {\n  color: var(--chat-sidemenu-color-active) !important;\n  background: var(--chat-sidemenu-bg-color-active) !important;\n}\n.room-selected[data-v-57e9a1b4]:hover {\n  background: var(--chat-sidemenu-bg-color-active) !important;\n}\n.name-container[data-v-57e9a1b4] {\n  flex: 1;\n}\n.title-container[data-v-57e9a1b4] {\n  display: flex;\n  align-items: center;\n  line-height: 25px;\n}\n.text-ellipsis[data-v-57e9a1b4] {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.room-name[data-v-57e9a1b4] {\n  flex: 1;\n  color: var(--chat-room-color-username);\n  font-weight: 500;\n}\n.text-last[data-v-57e9a1b4] {\n  display: flex;\n  align-items: center;\n  font-size: 12px;\n  line-height: 17px;\n  color: var(--chat-room-color-message);\n}\n.message-new[data-v-57e9a1b4] {\n  color: var(--chat-room-color-username);\n  font-weight: 500;\n}\n.text-date[data-v-57e9a1b4] {\n  margin-left: 5px;\n  font-size: 11px;\n  color: var(--chat-room-color-timestamp);\n}\n.icon-check[data-v-57e9a1b4] {\n  display: flex;\n  height: 14px;\n  width: 14px;\n  margin-top: -2px;\n  margin-right: 2px;\n}\n.state-circle[data-v-57e9a1b4] {\n  width: 9px;\n  height: 9px;\n  border-radius: 50%;\n  background-color: var(--chat-room-color-offline);\n  margin-right: 6px;\n  transition: 0.3s;\n}\n.state-online[data-v-57e9a1b4] {\n  background-color: var(--chat-room-color-online);\n}\n@media only screen and (max-width: 768px) {\n.box-search[data-v-57e9a1b4] {\n    height: 58px;\n}\n.room-list[data-v-57e9a1b4] {\n    padding: 0 7px 5px;\n}\n.room-item[data-v-57e9a1b4] {\n    min-height: 60px;\n    padding: 0 8px;\n}\n}",""])},369:function(e,t,n){"use strict";var o=n(353);n.n(o).a},370:function(e,t,n){(e.exports=n(6)(!1)).push([e.i,'.wrapper[data-v-99ae97b8] {\n  position: relative;\n  display: flex;\n}\n.emoji-picker[data-v-99ae97b8] {\n  position: absolute;\n  z-index: 9999;\n  bottom: 32px;\n  right: 10px;\n  width: 240px;\n  overflow: scroll;\n  padding: 16px;\n  box-sizing: border-box;\n  border-radius: 0.5rem;\n  background: var(--chat-emoji-bg-color);\n  box-shadow: 0 1px 2px -2px rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1), 0 1px 2px 1px rgba(0, 0, 0, 0.1);\n}\n.picker-reaction[data-v-99ae97b8] {\n  position: fixed;\n  top: initial;\n  right: initial;\n}\n.emoji-picker__search[data-v-99ae97b8] {\n  display: flex;\n}\n.emoji-picker__search > input[data-v-99ae97b8] {\n  flex: 1;\n  border-radius: 10rem;\n  border: var(--chat-border-style);\n  padding: 5px 10px;\n  outline: none;\n  background: var(--chat-bg-color-input);\n  color: var(--chat-color);\n}\n.emoji-picker h5[data-v-99ae97b8] {\n  margin: 15px 0 8px;\n  color: #b1b1b1;\n  text-transform: uppercase;\n  font-size: 0.8rem;\n  cursor: default;\n}\n.emoji-picker .emojis[data-v-99ae97b8] {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n}\n.emoji-picker .emojis[data-v-99ae97b8]:after {\n  content: "";\n  flex: auto;\n}\n.emoji-picker .emojis span[data-v-99ae97b8] {\n  padding: 0.2rem;\n  cursor: pointer;\n  border-radius: 5px;\n}\n.emoji-picker .emojis span[data-v-99ae97b8]:hover {\n  background: var(--chat-sidemenu-bg-color-hover);\n  cursor: pointer;\n}\n.button-reaction svg[data-v-99ae97b8] {\n  height: 19px;\n  width: 19px;\n}',""])},371:function(e,t,n){"use strict";var o=n(354);n.n(o).a},372:function(e,t,n){(e.exports=n(6)(!1)).push([e.i,'.card-date[data-v-2ff9485b] {\n  border-radius: 4px;\n  max-width: 150px;\n  text-align: center;\n  margin: 10px auto;\n  font-size: 12px;\n  text-transform: uppercase;\n  padding: 4px;\n  color: var(--chat-message-color-date);\n  background: var(--chat-message-bg-color-date);\n  display: block;\n  overflow-wrap: break-word;\n  position: relative;\n  white-space: normal;\n  box-shadow: 0 1px 1px -1px rgba(0, 0, 0, 0.1), 0 1px 1px -1px rgba(0, 0, 0, 0.11), 0 1px 2px -1px rgba(0, 0, 0, 0.11);\n}\n.line-new[data-v-2ff9485b] {\n  color: var(--chat-message-color-new-messages);\n  position: relative;\n  text-align: center;\n  font-size: 13px;\n  padding: 10px 0;\n}\n.line-new[data-v-2ff9485b]:after,\n.line-new[data-v-2ff9485b]:before {\n  border-top: 1px solid var(--chat-message-color-new-messages);\n  content: "";\n  left: 0;\n  position: absolute;\n  top: 50%;\n  width: calc(50% - 60px);\n}\n.line-new[data-v-2ff9485b]:before {\n  left: auto;\n  right: 0;\n}\n.message-box[data-v-2ff9485b] {\n  display: flex;\n  flex: 0 0 50%;\n  max-width: 50%;\n  justify-content: flex-start;\n  line-height: 1.4;\n}\n.message-container[data-v-2ff9485b] {\n  position: relative;\n  padding: 2px 10px;\n  align-items: end;\n  min-width: 100px;\n  box-sizing: content-box;\n  direction: ltr !important;\n}\n.message-container-offset[data-v-2ff9485b] {\n  margin-top: 10px;\n}\n.offset-current[data-v-2ff9485b] {\n  margin-left: 50%;\n  justify-content: flex-end;\n}\n.message-card[data-v-2ff9485b] {\n  background: var(--chat-message-bg-color);\n  color: var(--chat-message-color);\n  border-radius: 8px;\n  font-size: 14px;\n  padding: 6px 9px 3px;\n  max-width: 100%;\n  -webkit-transition-property: box-shadow, opacity;\n  transition-property: box-shadow, opacity;\n  transition: box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);\n  will-change: box-shadow;\n  box-shadow: 0 1px 1px -1px rgba(0, 0, 0, 0.1), 0 1px 1px -1px rgba(0, 0, 0, 0.11), 0 1px 2px -1px rgba(0, 0, 0, 0.11);\n}\n.message-highlight[data-v-2ff9485b] {\n  box-shadow: 0 1px 2px -1px rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.11), 0 1px 5px -1px rgba(0, 0, 0, 0.11);\n}\n.message-current[data-v-2ff9485b] {\n  background: var(--chat-message-bg-color-me) !important;\n}\n.message-deleted[data-v-2ff9485b] {\n  color: var(--chat-message-color-deleted) !important;\n  font-size: 13px !important;\n  font-style: italic !important;\n  background: var(--chat-message-bg-color-deleted) !important;\n}\n.icon-deleted[data-v-2ff9485b] {\n  height: 14px;\n  width: 14px;\n  vertical-align: middle;\n  margin: -2px 2px 0 0;\n  fill: var(--chat-message-color-deleted);\n}\n.image-container[data-v-2ff9485b] {\n  width: 250px;\n  max-width: 100%;\n}\n.image-reply-container[data-v-2ff9485b] {\n  width: 70px;\n}\n.message-image[data-v-2ff9485b] {\n  position: relative;\n  background-color: var(--chat-message-bg-color-image) !important;\n  background-size: cover !important;\n  background-position: center center !important;\n  background-repeat: no-repeat !important;\n  height: 250px;\n  width: 250px;\n  max-width: 100%;\n  border-radius: 4px;\n  margin: 4px auto 5px;\n  transition: 0.4s filter linear;\n}\n.message-image-reply[data-v-2ff9485b] {\n  height: 70px;\n  width: 70px;\n  margin: 4px auto 3px;\n}\n.image-loading[data-v-2ff9485b] {\n  filter: blur(3px);\n}\n.reply-message[data-v-2ff9485b] {\n  background: var(--chat-message-bg-color-reply);\n  border-radius: 4px;\n  margin: -1px -5px 8px;\n  padding: 8px 10px;\n}\n.reply-message .reply-username[data-v-2ff9485b] {\n  color: var(--chat-message-color-reply-username);\n  font-size: 12px;\n  line-height: 15px;\n  margin-bottom: 2px;\n}\n.reply-message .reply-content[data-v-2ff9485b] {\n  font-size: 12px;\n  color: var(--chat-message-color-reply-content);\n}\n.text-username[data-v-2ff9485b] {\n  font-size: 13px;\n  color: var(--chat-message-color-username);\n  margin-bottom: 2px;\n}\n.username-reply[data-v-2ff9485b] {\n  margin-bottom: 5px;\n}\n.text-timestamp[data-v-2ff9485b] {\n  font-size: 10px;\n  color: var(--chat-message-color-timestamp);\n  text-align: right;\n}\n.file-message[data-v-2ff9485b] {\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  margin-top: 3px;\n}\n.file-message span[data-v-2ff9485b] {\n  max-width: 100%;\n}\n.file-message .icon-file svg[data-v-2ff9485b] {\n  margin-right: 5px;\n}\n.icon-edited[data-v-2ff9485b] {\n  -webkit-box-align: center;\n  align-items: center;\n  display: -webkit-inline-box;\n  display: inline-flex;\n  justify-content: center;\n  letter-spacing: normal;\n  line-height: 1;\n  text-indent: 0;\n  vertical-align: middle;\n  margin: 0 4px 2px;\n}\n.icon-edited svg[data-v-2ff9485b] {\n  height: 12px;\n  width: 12px;\n}\n.options-container[data-v-2ff9485b] {\n  position: absolute;\n  top: 2px;\n  right: 10px;\n  height: 40px;\n  width: 70px;\n  overflow: hidden;\n  border-top-right-radius: 8px;\n}\n.blur-container[data-v-2ff9485b] {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  left: 8px;\n  bottom: 10px;\n  background: var(--chat-message-bg-color);\n  filter: blur(3px);\n  border-bottom-left-radius: 8px;\n}\n.options-me[data-v-2ff9485b] {\n  background: var(--chat-message-bg-color-me);\n}\n.options-image .blur-container[data-v-2ff9485b] {\n  background: rgba(255, 255, 255, 0.6);\n  border-bottom-left-radius: 15px;\n}\n.image-buttons[data-v-2ff9485b] {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  border-radius: 4px;\n  background: linear-gradient(to bottom, rgba(0, 0, 0, 0) 55%, rgba(0, 0, 0, 0.02) 60%, rgba(0, 0, 0, 0.05) 65%, rgba(0, 0, 0, 0.1) 70%, rgba(0, 0, 0, 0.2) 75%, rgba(0, 0, 0, 0.3) 80%, rgba(0, 0, 0, 0.5) 85%, rgba(0, 0, 0, 0.6) 90%, rgba(0, 0, 0, 0.7) 95%, rgba(0, 0, 0, 0.8) 100%);\n}\n.image-buttons svg[data-v-2ff9485b] {\n  height: 26px;\n  width: 26px;\n}\n.image-buttons .button-view[data-v-2ff9485b],\n.image-buttons .button-download[data-v-2ff9485b] {\n  position: absolute;\n  bottom: 6px;\n  left: 7px;\n}\n.image-buttons[data-v-2ff9485b] :first-child {\n  left: 40px;\n}\n.image-buttons .button-view[data-v-2ff9485b] {\n  max-width: 18px;\n  bottom: 8px;\n}\n.message-options[data-v-2ff9485b] {\n  border-radius: 50%;\n  position: absolute;\n  top: 7px;\n  right: 7px;\n}\n.message-options svg[data-v-2ff9485b] {\n  height: 20px;\n  width: 20px;\n  padding: 3px;\n  fill: var(--chat-message-color-timestamp);\n  margin: -5px;\n}\n.message-reactions[data-v-2ff9485b] {\n  position: absolute;\n  top: 6px;\n  right: 30px;\n}\n.menu-options[data-v-2ff9485b] {\n  right: 15px;\n}\n.menu-left[data-v-2ff9485b] {\n  right: -118px;\n}\n.icon-check[data-v-2ff9485b] {\n  height: 14px;\n  width: 14px;\n  vertical-align: middle;\n  margin: -3px -3px 0 3px;\n}\n.button-reaction[data-v-2ff9485b] {\n  display: inline-flex;\n  align-items: center;\n  border: var(--chat-message-border-style-reaction);\n  outline: none;\n  background: var(--chat-message-bg-color-reaction);\n  border-radius: 4px;\n  margin: 4px 2px 0;\n  transition: 0.3s;\n  padding: 0 5px;\n  font-size: 18px;\n  line-height: 23px;\n}\n.button-reaction span[data-v-2ff9485b] {\n  font-size: 11px;\n  font-weight: 500;\n  min-width: 7px;\n  color: var(--chat-message-color-reaction-counter);\n}\n.button-reaction[data-v-2ff9485b]:hover {\n  border: var(--chat-message-border-style-reaction-hover);\n  background: var(--chat-message-bg-color-reaction-hover);\n  cursor: pointer;\n}\n.reaction-me[data-v-2ff9485b] {\n  border: var(--chat-message-border-style-reaction-me);\n  background: var(--chat-message-bg-color-reaction-me);\n}\n.reaction-me span[data-v-2ff9485b] {\n  color: var(--chat-message-color-reaction-counter-me);\n}\n.reaction-me[data-v-2ff9485b]:hover {\n  border: var(--chat-message-border-style-reaction-hover-me);\n  background: var(--chat-message-bg-color-reaction-hover-me);\n}\n@media only screen and (max-width: 768px) {\n.message-container[data-v-2ff9485b] {\n    padding: 2px 3px 1px;\n}\n.message-container-offset[data-v-2ff9485b] {\n    margin-top: 10px;\n}\n.message-box[data-v-2ff9485b] {\n    flex: 0 0 80%;\n    max-width: 80%;\n}\n.offset-current[data-v-2ff9485b] {\n    margin-left: 20%;\n}\n.options-container[data-v-2ff9485b] {\n    right: 3px;\n}\n.menu-left[data-v-2ff9485b] {\n    right: -50px;\n}\n}',""])},373:function(e,t,n){"use strict";function o(){var e=function(){var e=navigator.userAgent||navigator.vendor||window.opera||null;if(!e)throw new Error("Failed to look for user agent information.");return e}(),t=e.substr(0,4);return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw(n|u)|c55\/|capi|ccwa|cdm|cell|chtm|cldc|cmd|co(mp|nd)|craw|da(it|ll|ng)|dbte|dcs|devi|dica|dmob|do(c|p)o|ds(12|d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(|_)|g1 u|g560|gene|gf5|gmo|go(\.w|od)|gr(ad|un)|haie|hcit|hd(m|p|t)|hei|hi(pt|ta)|hp( i|ip)|hsc|ht(c(| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i(20|go|ma)|i230|iac( ||\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|[a-w])|libw|lynx|m1w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|mcr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|([1-8]|c))|phil|pire|pl(ay|uc)|pn2|po(ck|rt|se)|prox|psio|ptg|qaa|qc(07|12|21|32|60|[2-7]|i)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h|oo|p)|sdk\/|se(c(|0|1)|47|mc|nd|ri)|sgh|shar|sie(|m)|sk0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h|v|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl|tdg|tel(i|m)|tim|tmo|to(pl|sh)|ts(70|m|m3|m5)|tx9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas|your|zeto|zte/i.test(t)}n.r(t),n.d(t,"detectMobile",(function(){return o}))},374:function(e,t,n){"use strict";var o=n(355);n.n(o).a},375:function(e,t,n){(e.exports=n(6)(!1)).push([e.i,'.col-messages[data-v-663ea9da] {\n  position: relative;\n  height: 100%;\n  flex: 1;\n  overflow: hidden;\n  display: flex;\n  flex-flow: column;\n}\n.room-header[data-v-663ea9da] {\n  position: absolute;\n  display: flex;\n  align-items: center;\n  height: 64px;\n  width: 100%;\n  z-index: 4;\n  margin-right: 1px;\n  background: var(--chat-header-bg-color);\n  border-top-right-radius: var(--chat-container-border-radius);\n}\n.room-wrapper[data-v-663ea9da] {\n  display: flex;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n  padding: 0 16px;\n}\n.info-wrapper[data-v-663ea9da] {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n}\n.toggle-button[data-v-663ea9da] {\n  margin-right: 15px;\n}\n.toggle-button svg[data-v-663ea9da] {\n  height: 26px;\n  width: 26px;\n}\n.rotate-icon[data-v-663ea9da] {\n  transform: rotate(180deg) !important;\n}\n.room-name[data-v-663ea9da] {\n  font-size: 17px;\n  font-weight: 500;\n  line-height: 22px;\n  color: var(--chat-header-color-name);\n  display: inline-block;\n  width: 700px;\n  white-space: nowrap;\n  overflow: hidden !important;\n  text-overflow: ellipsis;\n}\n.room-info[data-v-663ea9da] {\n  font-size: 13px;\n  line-height: 18px;\n  color: var(--chat-header-color-info);\n}\n.room-options[data-v-663ea9da] {\n  margin-left: auto;\n}\n.container-scroll[data-v-663ea9da] {\n  background: var(--chat-content-bg-color);\n  flex: 1;\n  overflow-y: scroll;\n  margin-right: 1px;\n  margin-top: 60px;\n  padding-bottom: 39px;\n  -webkit-overflow-scrolling: touch;\n}\n.messages-container[data-v-663ea9da] {\n  padding: 0 5px 5px;\n  direction: ltr !important;\n}\n.text-started[data-v-663ea9da] {\n  font-size: 14px;\n  color: var(--chat-message-color-started);\n  font-style: italic;\n  text-align: center;\n  margin-top: 30px;\n  margin-bottom: 45px !important;\n}\n.icon-scroll[data-v-663ea9da] {\n  position: absolute;\n  bottom: 80px;\n  right: 20px;\n  padding: 8px;\n  background: var(--chat-bg-scroll-icon);\n  border-radius: 50%;\n  box-shadow: 0 1px 1px -1px rgba(0, 0, 0, 0.2), 0 1px 1px 0 rgba(0, 0, 0, 0.14), 0 1px 2px 0 rgba(0, 0, 0, 0.12);\n  display: flex;\n  cursor: pointer;\n}\n.icon-scroll svg[data-v-663ea9da] {\n  height: 25px;\n  width: 25px;\n}\n.room-footer[data-v-663ea9da] {\n  width: calc(100% - 1px);\n  border-bottom-right-radius: 4px;\n}\n.box-footer[data-v-663ea9da] {\n  display: flex;\n  position: relative;\n  background: var(--chat-footer-bg-color);\n  padding: 10px 8px 10px;\n}\n.reply-container[data-v-663ea9da] {\n  display: flex;\n  padding: 10px 10px 0 10px;\n  background: var(--chat-content-bg-color);\n  align-items: center;\n  max-width: 100%;\n}\n.reply-container .reply-box[data-v-663ea9da] {\n  width: 100%;\n  overflow: hidden;\n  background: var(--chat-footer-bg-color-reply);\n  border-radius: 4px;\n  padding: 8px 10px;\n  display: flex;\n}\n.reply-container .reply-info[data-v-663ea9da] {\n  overflow: hidden;\n}\n.reply-container .reply-username[data-v-663ea9da] {\n  color: var(--chat-message-color-reply-username);\n  font-size: 12px;\n  line-height: 15px;\n  margin-bottom: 2px;\n}\n.reply-container .reply-content[data-v-663ea9da] {\n  font-size: 12px;\n  color: var(--chat-message-color-reply-content);\n}\n.reply-container .icon-reply[data-v-663ea9da] {\n  margin-left: 10px;\n}\n.reply-container .icon-reply svg[data-v-663ea9da] {\n  height: 20px;\n  width: 20px;\n}\n.reply-container .image-reply[data-v-663ea9da] {\n  max-height: 100px;\n  margin-right: 10px;\n}\ntextarea[data-v-663ea9da] {\n  height: 20px;\n  width: 100%;\n  line-height: 20px;\n  overflow: hidden;\n  outline: 0;\n  resize: none;\n  border-radius: 20px;\n  padding: 12px 16px;\n  box-sizing: content-box;\n  font-size: 16px;\n  background: var(--chat-bg-color-input);\n  color: var(--chat-color);\n  caret-color: var(--chat-color-caret);\n  border: var(--chat-border-style-input);\n}\ntextarea[data-v-663ea9da]::placeholder {\n  color: var(--chat-color-placeholder);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.textarea-outline[data-v-663ea9da] {\n  border: 1px solid var(--chat-border-color-input-selected);\n  box-shadow: inset 0px 0px 0px 1px var(--chat-border-color-input-selected);\n}\n.icon-textarea[data-v-663ea9da] {\n  display: flex;\n  margin: 12px 0 0 5px;\n}\n.icon-textarea svg[data-v-663ea9da],\n.icon-textarea .wrapper[data-v-663ea9da] {\n  margin: 0 7px;\n}\n.image-container[data-v-663ea9da] {\n  position: absolute;\n  max-width: 25%;\n  left: 16px;\n  top: 18px;\n}\n.image-file[data-v-663ea9da] {\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  min-height: 30px;\n}\n.image-file img[data-v-663ea9da] {\n  border-radius: 15px;\n  width: 100%;\n  max-width: 150px;\n  max-height: 100%;\n}\n.icon-image[data-v-663ea9da] {\n  position: absolute;\n  top: 6px;\n  left: 6px;\n}\n.icon-image svg[data-v-663ea9da] {\n  height: 20px;\n  width: 20px;\n  border-radius: 50%;\n}\n.icon-image[data-v-663ea9da]:before {\n  content: " ";\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  border-radius: 50%;\n  z-index: -1;\n}\n.file-container[data-v-663ea9da] {\n  display: flex;\n  align-items: center;\n  width: calc(100% - 75px);\n  height: 20px;\n  padding: 12px 0;\n  box-sizing: content-box;\n  background: var(--chat-bg-color-input);\n  border: var(--chat-border-style-input);\n  border-radius: 20px;\n}\n.file-container-edit[data-v-663ea9da] {\n  width: calc(100% - 109px);\n}\n.file-message[data-v-663ea9da] {\n  max-width: calc(100% - 75px);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.icon-file[data-v-663ea9da] {\n  display: flex;\n  margin: 0 8px 0 15px;\n}\n.icon-remove[data-v-663ea9da] {\n  margin-left: 8px;\n}\n.icon-remove svg[data-v-663ea9da] {\n  height: 18px;\n  width: 18px;\n}\n.send-disabled[data-v-663ea9da],\n.send-disabled svg[data-v-663ea9da] {\n  cursor: none !important;\n  pointer-events: none !important;\n  transform: none !important;\n}\n.messages-hidden[data-v-663ea9da] {\n  opacity: 0;\n}\n@media only screen and (max-width: 768px) {\n.room-header[data-v-663ea9da] {\n    height: 50px;\n}\n.room-header .room-wrapper[data-v-663ea9da] {\n    padding: 0 10px;\n}\n.room-header .room-name[data-v-663ea9da] {\n    font-size: 16px;\n    line-height: 22px;\n    display: inline-block;\n    width: 400px;\n    white-space: nowrap;\n    overflow: hidden !important;\n    text-overflow: ellipsis;\n}\n.room-header .room-info[data-v-663ea9da] {\n    font-size: 12px;\n    line-height: 16px;\n}\n.room-header .room-avatar[data-v-663ea9da] {\n    height: 37px;\n    width: 37px;\n}\n.container-scroll[data-v-663ea9da] {\n    margin-top: 50px;\n}\n.box-footer[data-v-663ea9da] {\n    border-top: var(--chat-border-style-input);\n    padding: 7px 2px 7px 7px;\n}\n.text-started[data-v-663ea9da] {\n    margin-top: 20px;\n}\ntextarea[data-v-663ea9da] {\n    padding: 7px;\n    line-height: 18px;\n}\ntextarea[data-v-663ea9da]::placeholder {\n    color: transparent;\n}\n.icon-textarea[data-v-663ea9da] {\n    margin: 6px 0 0 5px;\n}\n.icon-textarea svg[data-v-663ea9da],\n.icon-textarea .wrapper[data-v-663ea9da] {\n    margin: 0 5px;\n}\n.image-container[data-v-663ea9da] {\n    top: 10px;\n    left: 10px;\n}\n.image-file img[data-v-663ea9da] {\n    transform: scale(0.97);\n}\n.room-footer[data-v-663ea9da] {\n    width: 100%;\n}\n.file-container[data-v-663ea9da] {\n    padding: 7px 0;\n}\n.file-container .icon-file[data-v-663ea9da] {\n    margin-left: 10px;\n}\n.reply-container[data-v-663ea9da] {\n    padding: 5px 8px;\n}\n.icon-scroll[data-v-663ea9da] {\n    bottom: 70px;\n}\n}',""])},376:function(e,t,n){"use strict";var o=n(356);n.n(o).a},377:function(e,t,n){(e.exports=n(6)(!1)).push([e.i,".fade-spinner-enter {\n  opacity: 0;\n}\n.fade-spinner-enter-active {\n  transition: opacity 0.8s;\n}\n.fade-spinner-leave-active {\n  transition: opacity 0.2s;\n  opacity: 0;\n}\n.fade-image-enter {\n  opacity: 0;\n}\n.fade-image-enter-active {\n  transition: opacity 1s;\n}\n.fade-image-leave-active {\n  transition: opacity 0.5s;\n  opacity: 0;\n}\n.fade-message-enter {\n  opacity: 0;\n}\n.fade-message-enter-active {\n  transition: opacity 0.5s;\n}\n.fade-message-leave-active {\n  transition: opacity 0.2s;\n  opacity: 0;\n}\n.slide-left-enter-active,\n.slide-right-enter-active {\n  transition: all 0.3s ease;\n  transition-property: transform, opacity;\n}\n.slide-left-leave-active,\n.slide-right-leave-active {\n  transition: all 0.2s cubic-bezier(1, 0.5, 0.8, 1);\n  transition-property: transform, opacity;\n}\n.slide-left-enter,\n.slide-left-leave-to {\n  transform: translateX(10px);\n  opacity: 0;\n}\n.slide-right-enter,\n.slide-right-leave-to {\n  transform: translateX(-10px);\n  opacity: 0;\n}\n.slide-up-enter-active {\n  transition: all 0.3s ease;\n}\n.slide-up-leave-active {\n  transition: all 0.2s cubic-bezier(1, 0.5, 0.8, 1);\n}\n.slide-up-enter,\n.slide-up-leave-to {\n  transform: translateY(10px);\n  opacity: 0;\n}\n.bounce-enter-active {\n  animation: bounce-in 0.5s;\n}\n.bounce-leave-active {\n  animation: bounce-in 0.3s reverse;\n}\n@keyframes bounce-in {\n0% {\n    transform: scale(0);\n}\n50% {\n    transform: scale(1.05);\n}\n100% {\n    transform: scale(1);\n}\n}\n.menu-list {\n  border-radius: 4px;\n  display: block;\n  cursor: pointer;\n  background: var(--chat-dropdown-bg-color);\n  padding: 6px 0;\n}\n.menu-list :hover {\n  background: var(--chat-dropdown-bg-color-hover);\n  transition: background-color 0.3s cubic-bezier(0.25, 0.8, 0.5, 1);\n}\n.menu-list :not(:hover) {\n  transition: background-color 0.3s cubic-bezier(0.25, 0.8, 0.5, 1);\n}\n.menu-item {\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-flex: 1;\n  -ms-flex: 1 1 100%;\n  flex: 1 1 100%;\n  min-height: 30px;\n  padding: 5px 16px;\n  position: relative;\n  white-space: nowrap;\n  line-height: 30px;\n}\n.menu-options {\n  position: absolute;\n  z-index: 9999;\n  zoom: 0.66;\n  top: 0px;\n  min-width: 150px;\n  display: inline-block;\n  border-radius: 4px;\n  font-size: 14px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  contain: content;\n  box-shadow: 0 2px 2px -4px rgba(0, 0, 0, 0.1), 0 2px 2px 1px rgba(0, 0, 0, 0.12), 0 1px 8px 1px rgba(0, 0, 0, 0.12);\n}\n.menu-options-left {\n  right: auto;\n  left: 10px;\n}\n.menu-options-right {\n  left: auto;\n  right: 10px;\n}\n.app-border {\n  border: var(--chat-border-style);\n}\n.app-border-t {\n  border-top: var(--chat-border-style);\n}\n.app-border-r {\n  border-right: var(--chat-border-style);\n}\n.app-border-b {\n  border-bottom: var(--chat-border-style);\n}\n.item-clickable {\n  cursor: pointer;\n}\n.vertical-center {\n  display: flex;\n  align-items: center;\n  height: 100%;\n}\n.vertical-center .vertical-container {\n  width: 100%;\n  text-align: center;\n}\n.svg-button {\n  max-height: 30px;\n  display: flex;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n.svg-button:hover {\n  transform: scale(1);\n  opacity: 0.7;\n}\n.room-avatar {\n  background-size: cover;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-color: #ddd;\n  height: 42px;\n  width: 42px;\n  margin-right: 15px;\n  border-radius: 50%;\n}\n.text-bold {\n  font-weight: bold;\n}\n.text-italic {\n  font-style: italic;\n}\n.text-strike {\n  text-decoration: line-through;\n}\n.text-underline {\n  text-decoration: underline;\n}\n.text-inline-code {\n  display: inline-block;\n  font-size: 12px;\n  color: var(--chat-markdown-color);\n  background: var(--chat-markdown-bg);\n  border: 1px solid var(--chat-markdown-border);\n  border-radius: 3px;\n  margin: 2px 0;\n  padding: 2px 3px;\n}\n.text-multiline-code {\n  display: block;\n  font-size: 12px;\n  color: var(--chat-markdown-color-multi);\n  background: var(--chat-markdown-bg);\n  border: 1px solid var(--chat-markdown-border);\n  border-radius: 3px;\n  margin: 4px 0;\n  padding: 7px;\n}\n* {\n  font-family: inherit;\n}\na {\n  color: #0d579c;\n}\n.card-window {\n  width: 100%;\n  display: block;\n  max-width: 100%;\n  background: var(--chat-content-bg-color);\n  color: var(--chat-color);\n  overflow-wrap: break-word;\n  position: relative;\n  white-space: normal;\n  border: var(--chat-container-border);\n  border-radius: var(--chat-container-border-radius);\n  box-shadow: var(--chat-container-box-shadow);\n}\n.chat-container {\n  height: 100%;\n  display: flex;\n}\n.chat-container textarea,\n.chat-container input[type=text],\n.chat-container input[type=search] {\n  -webkit-appearance: none;\n}",""])}}]);